<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>ggplot2 | Xiaotao Shen</title>
    <link>https://jaspershen.github.io/category/ggplot2/</link>
      <atom:link href="https://jaspershen.github.io/category/ggplot2/index.xml" rel="self" type="application/rss+xml" />
    <description>ggplot2</description>
    <generator>Wowchemy (https://wowchemy.com)</generator><language>en-us</language><lastBuildDate>Mon, 23 Dec 2019 00:00:00 +0000</lastBuildDate>
    <image>
      <url>https://jaspershen.github.io/media/icon_hu805a85e690e4f2727bf7d5f685d888f7_86836_512x512_fill_lanczos_center_3.png</url>
      <title>ggplot2</title>
      <link>https://jaspershen.github.io/category/ggplot2/</link>
    </image>
    
    <item>
      <title>ggplot2 legend总结-1</title>
      <link>https://jaspershen.github.io/post/2019-12-23-r-ggplot2-legend/</link>
      <pubDate>Mon, 23 Dec 2019 00:00:00 +0000</pubDate>
      <guid>https://jaspershen.github.io/post/2019-12-23-r-ggplot2-legend/</guid>
      <description>

&lt;div id=&#34;TOC&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#画出示例图片&#34;&gt;&lt;span class=&#34;toc-section-number&#34;&gt;1&lt;/span&gt; 画出示例图片&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#去掉legend&#34;&gt;&lt;span class=&#34;toc-section-number&#34;&gt;2&lt;/span&gt; 去掉legend&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#更改legend位置&#34;&gt;&lt;span class=&#34;toc-section-number&#34;&gt;3&lt;/span&gt; 更改legend位置&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#更改legend水平或者垂直排列&#34;&gt;&lt;span class=&#34;toc-section-number&#34;&gt;4&lt;/span&gt; 更改legend水平或者垂直排列&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#更改legend各个元素相对位置&#34;&gt;&lt;span class=&#34;toc-section-number&#34;&gt;5&lt;/span&gt; 更改legend各个元素相对位置&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#更改legend背景&#34;&gt;&lt;span class=&#34;toc-section-number&#34;&gt;6&lt;/span&gt; 更改legend背景&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#其他一些设置&#34;&gt;&lt;span class=&#34;toc-section-number&#34;&gt;7&lt;/span&gt; 其他一些设置&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#设置legend上下左右的边缘距离&#34;&gt;&lt;span class=&#34;toc-section-number&#34;&gt;7.1&lt;/span&gt; 设置legend上下左右的边缘距离&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;

&lt;div id=&#34;画出示例图片&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;&lt;span class=&#34;header-section-number&#34;&gt;1&lt;/span&gt; 画出示例图片&lt;/h1&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(ggplot2)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: package &amp;#39;ggplot2&amp;#39; was built under R version 3.6.1&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyverse)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: package &amp;#39;tidyverse&amp;#39; was built under R version 3.6.1&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## -- Attaching packages ------------------------------------------------------------- tidyverse 1.2.1 --&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## v tibble  2.1.3     v purrr   0.3.3
## v tidyr   1.0.0     v dplyr   0.8.3
## v readr   1.3.1     v stringr 1.4.0
## v tibble  2.1.3     v forcats 0.4.0&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: package &amp;#39;tibble&amp;#39; was built under R version 3.6.1&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: package &amp;#39;tidyr&amp;#39; was built under R version 3.6.1&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: package &amp;#39;purrr&amp;#39; was built under R version 3.6.1&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Warning: package &amp;#39;dplyr&amp;#39; was built under R version 3.6.1&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## -- Conflicts ---------------------------------------------------------------- tidyverse_conflicts() --
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mtcars$gear &amp;lt;- factor(mtcars$gear)
(plot &amp;lt;- mtcars %&amp;gt;% 
    ggplot(aes(x = gear)) +
    geom_bar(aes(fill = gear)) +
    theme_bw()
)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-1-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;与其他ggplot2上的对象一样，对于其外在表现（appearance）等，大都是在&lt;code&gt;theme()&lt;/code&gt;函数中进行设置。&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;去掉legend&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;&lt;span class=&#34;header-section-number&#34;&gt;2&lt;/span&gt; 去掉legend&lt;/h1&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;##使用theme函数
plot +
  theme(legend.position = &amp;quot;none&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-2-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;#使用guides函数
plot +
  guides(fill = FALSE)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-2-2.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;##在scales系列函数中设置
plot +
  scale_fill_discrete(guide = FALSE)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-2-3.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;更改legend位置&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;&lt;span class=&#34;header-section-number&#34;&gt;3&lt;/span&gt; 更改legend位置&lt;/h1&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;##左侧
plot +
  theme(legend.position = &amp;quot;left&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-3-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;##右侧
plot +
  theme(legend.position = &amp;quot;top&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-3-2.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;##底部
plot +
  theme(legend.position = &amp;quot;bottom&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-3-3.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;##右侧。默认放在右侧
plot +
  theme(legend.position = &amp;quot;right&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-3-4.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;有时候我们需要将legend放在角上。这时候还是使用&lt;code&gt;legend.position&lt;/code&gt;参数，但是需要配合&lt;code&gt;legend.justification&lt;/code&gt;参数使用。&lt;code&gt;legend.position&lt;/code&gt;设置为两个元素（数值）的向量，且取值范围为0-1。0代表最左边或者最右边，而1代表最上边或者最右边。第一个数值控制左右，第二个数值控制上下。&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;##右上角
plot +
  theme(legend.position = c(1, 1),
        legend.justification = c(1, 1))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-4-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;##右下角
plot +
  theme(legend.position = c(1, 0),
        legend.justification = c(1, 0))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-4-2.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;##左上角
plot +
  theme(legend.position = c(0, 1),
        legend.justification = c(0, 1))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-4-3.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;##左下角
plot +
  theme(legend.position = c(0, 0),
        legend.justification = c(0, 0))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-4-4.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;当然，也可以通过设置具体的位置参数，来控制legend的位置。&lt;code&gt;legend.poisition&lt;/code&gt;中的数值都是相对值,而不是绝对值.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;##中间
plot +
  theme(legend.position =  c(0.5, 0.5))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-5-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;更改legend水平或者垂直排列&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;&lt;span class=&#34;header-section-number&#34;&gt;4&lt;/span&gt; 更改legend水平或者垂直排列&lt;/h1&gt;
&lt;p&gt;可以通过&lt;code&gt;legend.direction&lt;/code&gt;参数进行设置：&lt;code&gt;horizontal&lt;/code&gt;水平或者&lt;code&gt;verti&lt;/code&gt;垂直。&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;##修改legend标识中的size
plot +
  guides(fill = guide_legend(override.aes = list(size = 20)))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-6-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;##修改legend title位置
##通过设置legend..title.align从而控制其左右相对位置，0是居中对其，-1靠左对其，1靠右对其，
plot +
  theme(legend.title.align = 0)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-6-2.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;plot +
  theme(legend.title.align = -1)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-6-3.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;plot +
  theme(legend.title.align = 1)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-6-4.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;##通过guides函数控制
plot +
  guides(fill = guide_legend(title.position = &amp;quot;left&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-6-5.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;plot +
  guides(fill = guide_legend(title.position = &amp;quot;bottom&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-6-6.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;plot +
  theme(legend.direction = &amp;quot;horizontal&amp;quot;, legend.position = &amp;quot;bottom&amp;quot;) +
  guides(fill = guide_legend(title.position = &amp;quot;top&amp;quot;, title.hjust = 0.5))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-6-7.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;更改legend各个元素相对位置&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;&lt;span class=&#34;header-section-number&#34;&gt;5&lt;/span&gt; 更改legend各个元素相对位置&lt;/h1&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;##修改legend title位置
##通过设置legend..title.align从而控制其左右相对位置，0是居中对其，-1靠左对其，1靠右对其，
plot +
  theme(legend.title.align = 0)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-7-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;plot +
  theme(legend.title.align = -1)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-7-2.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;plot +
  theme(legend.title.align = 1)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-7-3.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;##通过guides函数控制
plot +
  guides(fill = guide_legend(title.position = &amp;quot;left&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-7-4.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;plot +
  guides(fill = guide_legend(title.position = &amp;quot;bottom&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-7-5.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;plot +
  theme(legend.direction = &amp;quot;horizontal&amp;quot;, legend.position = &amp;quot;bottom&amp;quot;) +
  guides(fill = guide_legend(title.position = &amp;quot;top&amp;quot;, title.hjust = 0.5))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-7-6.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;##去除legend文字
plot +
  guides(fill = guide_legend(label = FALSE))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-7-7.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;##修改legend text位置
plot +
  theme(legend.text.align = 1)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-7-8.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;plot +
  guides(fill = guide_legend(label.position = &amp;quot;left&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-7-9.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;plot +
  theme(legend.position = &amp;quot;bottom&amp;quot;) +
  guides(fill = guide_legend(
    title.position = &amp;quot;right&amp;quot;,
    label.position = &amp;quot;bottom&amp;quot;,
    title.vjust = 1
  ))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-7-10.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;更改legend背景&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;&lt;span class=&#34;header-section-number&#34;&gt;6&lt;/span&gt; 更改legend背景&lt;/h1&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;##修改legend整体背景
plot +
  theme(legend.background = element_rect(
    fill = &amp;quot;green&amp;quot;,
    colour = &amp;quot;red&amp;quot;,
    size = 2,
    linetype = 2
  ))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-8-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;##修改legend单个标识的背景
plot +
  theme(legend.key = element_rect(
    fill = &amp;quot;green&amp;quot;,
    colour = &amp;quot;red&amp;quot;,
    size = 0.1,
    linetype = 3
  ))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-8-2.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;##修改单个标识的高度和宽度，也可以用来改变标识的大小。
plot +
  theme(legend.key.height = unit(2, &amp;quot;line&amp;quot;),
        legend.key.width = unit(2, &amp;quot;line&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-8-3.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;plot +
  theme(legend.key.size = unit(2, &amp;quot;line&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-8-4.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;##修改legend各个key之间的距离
plot +
  theme(legend.position = &amp;quot;top&amp;quot;,
        legend.spacing.x = unit(2, &amp;quot;line&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-8-5.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;plot +
  theme(legend.position = &amp;quot;left&amp;quot;,
        legend.spacing.y = unit(2, &amp;quot;line&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-8-6.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;plot +
  theme(legend.position = &amp;quot;left&amp;quot;,
        legend.spacing = unit(2, &amp;quot;line&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-8-7.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;其他一些设置&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;&lt;span class=&#34;header-section-number&#34;&gt;7&lt;/span&gt; 其他一些设置&lt;/h1&gt;
&lt;div id=&#34;设置legend上下左右的边缘距离&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;&lt;span class=&#34;header-section-number&#34;&gt;7.1&lt;/span&gt; 设置legend上下左右的边缘距离&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;plot +
  theme(legend.margin = margin(5, 5, 5, 5, &amp;#39;cm&amp;#39;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://jaspershen.github.io/en/post/2019-12-23-r-ggplot2-legend/index_files/figure-html/unnamed-chunk-9-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
  </channel>
</rss>
