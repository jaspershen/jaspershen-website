<!DOCTYPE html>
<!-- This site was created with Wowchemy. https://www.wowchemy.com -->
<!-- Last Published: August 10, 2023 --><html lang="en-us" >


<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  
  
    <meta name="generator" content="Wowchemy 5.7.0 for Hugo" />
  

  
  












  
  










  







  
  
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  

  
  
  
    
      
      <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Bruno+Ace&family=Limelight&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Bruno+Ace&family=Limelight&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" media="print" onload="this.media='all'">
    
  

  
  

  
  
    
    <script src="/js/mathjax-config.js"></script>
  

  

  <link rel="stylesheet" href="/css/vendor-bundle.min.047268c6dd09ad74ba54a0ba71837064.css" media="print" onload="this.media='all'">

  
  
  
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.2/css/academicons.min.css" integrity="sha512-KlJCpRsLf+KKu2VQa5vmRuClRFjxc5lXO03ixZt82HZUk41+1I0bD8KBSA0fY290ayMfWYI9udIqeOWSu1/uZg==" crossorigin="anonymous" media="print" onload="this.media='all'">
    

    
    
    
    
      
      
    
    
    

    
    
    

    

    
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" integrity="" crossorigin="anonymous" async></script>
      
    
      
      

      
      

      
    
      
      

      
      

      
    
  

  
  
  
  
  
  
  <link rel="stylesheet" href="/css/wowchemy.00f70589ff95c2db8722b74912195f3f.css" />

  
  
  

  
  
  
  
  
  
  
    
    
    <link rel="stylesheet" href="/css/libs/chroma/github-light.min.css" title="hl-light" media="print" onload="this.media='all'" >
    <link rel="stylesheet" href="/css/libs/chroma/dracula.min.css" title="hl-dark" media="print" onload="this.media='all'" disabled>
  

  
  


























  
  
  






  <meta name="author" content="Xiaotao Shen" />





  

<meta name="description" content="1 åˆ›å»ºä¸€ä¸ªtibble 1.1 tibble()å‡½æ•° 1.2 as_tibble()å‡½æ•° 1.3 tribble()å‡½æ•° 1.4 enframe()å‡½æ•° 2 tibbleæ˜¾ç¤ºæ§åˆ¶ 2.1 ä½¿ç”¨print()å‡½æ•° 2.2 ä¿®æ”¹options()é»˜è®¤å‚æ•° 3 tibbleåˆ‡ç‰‡æ“ä½œ 4 tibbleæ·»åŠ æ–°çš„åˆ—æˆ–è€…è¡Œ 4.1 æ·»åŠ æ–°çš„è¡Œ 4.2 æ·»åŠ æ–°çš„åˆ— 5 tibbleå¯¹åˆ—åå’Œè¡Œåçš„æ“ä½œ 5.1 åˆ¤æ–­æ˜¯å¦æœ‰è¡Œå 5.2 è¡Œåå’ŒæŸä¸€åˆ—äº’ç›¸è½¬æ¢ 1 åˆ›å»ºä¸€ä¸ªtibble 1." />



<link rel="alternate" hreflang="en-us" href="https://jaspershen.github.io/post/2019-10-09-tibble-cookbook/" />
<link rel="canonical" href="https://jaspershen.github.io/post/2019-10-09-tibble-cookbook/" />



  <link rel="manifest" href="/manifest.webmanifest" />



<link rel="icon" type="image/png" href="/media/icon_hu805a85e690e4f2727bf7d5f685d888f7_86836_32x32_fill_lanczos_center_3.png" />
<link rel="apple-touch-icon" type="image/png" href="/media/icon_hu805a85e690e4f2727bf7d5f685d888f7_86836_180x180_fill_lanczos_center_3.png" />

<meta name="theme-color" content="#007C48" />










  
  






<meta property="twitter:card" content="summary" />

  <meta property="twitter:site" content="@wowchemy" />
  <meta property="twitter:creator" content="@wowchemy" />
<meta property="twitter:image" content="https://jaspershen.github.io/media/icon_hu805a85e690e4f2727bf7d5f685d888f7_86836_512x512_fill_lanczos_center_3.png" />
<meta property="og:site_name" content="Xiaotao Shen" />
<meta property="og:url" content="https://jaspershen.github.io/post/2019-10-09-tibble-cookbook/" />
<meta property="og:title" content="tibble cookbook | Xiaotao Shen" />
<meta property="og:description" content="1 åˆ›å»ºä¸€ä¸ªtibble 1.1 tibble()å‡½æ•° 1.2 as_tibble()å‡½æ•° 1.3 tribble()å‡½æ•° 1.4 enframe()å‡½æ•° 2 tibbleæ˜¾ç¤ºæ§åˆ¶ 2.1 ä½¿ç”¨print()å‡½æ•° 2.2 ä¿®æ”¹options()é»˜è®¤å‚æ•° 3 tibbleåˆ‡ç‰‡æ“ä½œ 4 tibbleæ·»åŠ æ–°çš„åˆ—æˆ–è€…è¡Œ 4.1 æ·»åŠ æ–°çš„è¡Œ 4.2 æ·»åŠ æ–°çš„åˆ— 5 tibbleå¯¹åˆ—åå’Œè¡Œåçš„æ“ä½œ 5.1 åˆ¤æ–­æ˜¯å¦æœ‰è¡Œå 5.2 è¡Œåå’ŒæŸä¸€åˆ—äº’ç›¸è½¬æ¢ 1 åˆ›å»ºä¸€ä¸ªtibble 1." /><meta property="og:image" content="https://jaspershen.github.io/media/icon_hu805a85e690e4f2727bf7d5f685d888f7_86836_512x512_fill_lanczos_center_3.png" /><meta property="og:locale" content="en-us" />

  
    <meta
      property="article:published_time"
      content="2019-11-09T00:00:00&#43;00:00"
    />
  
  
    <meta property="article:modified_time" content="2019-11-09T00:00:00&#43;00:00">
  






    






  




<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://jaspershen.github.io/post/2019-10-09-tibble-cookbook/"
  },
  "headline": "tibble cookbook",
  
  "datePublished": "2019-11-09T00:00:00Z",
  "dateModified": "2019-11-09T00:00:00Z",
  
  "author": {
    "@type": "Person",
    "name": "Xiaotao Shen"
  },
  
  "publisher": {
    "@type": "Organization",
    "name": "Xiaotao Shen",
    "logo": {
      "@type": "ImageObject",
      "url": "https://jaspershen.github.io/media/icon_hu805a85e690e4f2727bf7d5f685d888f7_86836_192x192_fill_lanczos_center_3.png"
    }
  },
  "description": "1 åˆ›å»ºä¸€ä¸ªtibble 1.1 tibble()å‡½æ•° 1.2 as_tibble()å‡½æ•° 1.3 tribble()å‡½æ•° 1.4 enframe()å‡½æ•° 2 tibbleæ˜¾ç¤ºæ§åˆ¶ 2.1 ä½¿ç”¨print()å‡½æ•° 2.2 ä¿®æ”¹options()é»˜è®¤å‚æ•° 3 tibbleåˆ‡ç‰‡æ“ä½œ 4 tibbleæ·»åŠ æ–°çš„åˆ—æˆ–è€…è¡Œ 4.1 æ·»åŠ æ–°çš„è¡Œ 4.2 æ·»åŠ æ–°çš„åˆ— 5 tibbleå¯¹åˆ—åå’Œè¡Œåçš„æ“ä½œ 5.1 åˆ¤æ–­æ˜¯å¦æœ‰è¡Œå 5.2 è¡Œåå’ŒæŸä¸€åˆ—äº’ç›¸è½¬æ¢ 1 åˆ›å»ºä¸€ä¸ªtibble 1."
}
</script>

  

  




  
  
  

  
  

  


  
  <title>tibble cookbook | Xiaotao Shen</title>

  
  
  
  











</head>


<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class="page-wrapper   " data-wc-page-id="387f47fa9b6bbc120cfc341acfe516ed" >

  
  
  
  
  
  
  
  
  
  <script src="/js/wowchemy-init.min.c51bb6301bb2be5edd35b3630c50ed3a.js"></script>

  


<aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#" aria-label="Close"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control"
        aria-label="Search...">
        
      </div>

      
      

      

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>



  <div class="page-header header--fixed">
  
  
  
  
  












<header>
  <nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
    <div class="container-xl">

      
      <div class="d-none d-lg-inline-flex">
        <a class="navbar-brand" href="/">Xiaotao Shen</a>
      </div>
      

      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar-content" aria-controls="navbar-content" aria-expanded="false" aria-label="Toggle navigation">
      <span><i class="fas fa-bars"></i></span>
      </button>
      

      
      <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
        <a class="navbar-brand" href="/">Xiaotao Shen</a>
      </div>
      

      
      
      <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

        
        <ul class="navbar-nav d-md-inline-flex">
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#about"><span>ğŸ  About</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#posts"><span>ğŸ“– Posts</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#projects"><span>ğŸ’» Projects</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#talks"><span>ğŸ—£ï¸ Talks</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#featured"><span>ğŸ—ï¸ Publications</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#contact"><span>ğŸ“¥ Contact</span></a>
          </li>

          
          

        

          
        </ul>
      </div>

      <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">

        
        
          
            
            <li class="nav-item d-none d-lg-inline-flex">
              <a class="nav-link" href="https://twitter.com/GeorgeCushen" target="_blank" rel="noopener" aria-label="github">
                <i class="fab fa-github" aria-hidden="true"></i>
              </a>
            </li>
          
        

        
        
        
        <li class="nav-item">
          <a class="nav-link js-search" href="#" aria-label="Search"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        
        
        
        <li class="nav-item dropdown theme-dropdown">
          <a href="#" class="nav-link" data-toggle="dropdown" aria-haspopup="true" aria-label="Display preferences">
            <i class="fas fa-moon" aria-hidden="true"></i>
          </a>
          <div class="dropdown-menu">
            <a href="#" class="dropdown-item js-set-theme-light">
              <span>Light</span>
            </a>
            <a href="#" class="dropdown-item js-set-theme-dark">
              <span>Dark</span>
            </a>
            <a href="#" class="dropdown-item js-set-theme-auto">
              <span>Automatic</span>
            </a>
          </div>
        </li>
        

        
        

      </ul>

    </div>
  </nav>
</header>


  </div>

  <div class="page-body">
    
    
    

    <article class="article">

  













  

  
  
  
<div class="article-container pt-3">
  <h1>tibble cookbook</h1>

  

  
    


<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    Nov 9, 2019
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    14 min read
  </span>
  

  
  
  
  

  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fas fa-folder mr-1"></i><a href="/category/r/">R</a></span>
  

</div>

    





  
</div>



  <div class="article-container">

    <div class="article-style">
      
<script src="index_files/header-attrs/header-attrs.js"></script>

<div id="TOC">
<ul>
<li><a href="#åˆ›å»ºä¸€ä¸ªtibble"><span class="toc-section-number">1</span> åˆ›å»ºä¸€ä¸ªtibble</a>
<ul>
<li><a href="#tibbleå‡½æ•°"><span class="toc-section-number">1.1</span> <code>tibble()</code>å‡½æ•°</a></li>
<li><a href="#as_tibbleå‡½æ•°"><span class="toc-section-number">1.2</span> <code>as_tibble()</code>å‡½æ•°</a></li>
<li><a href="#tribbleå‡½æ•°"><span class="toc-section-number">1.3</span> <code>tribble()</code>å‡½æ•°</a></li>
<li><a href="#enframeå‡½æ•°"><span class="toc-section-number">1.4</span> <code>enframe()</code>å‡½æ•°</a></li>
</ul></li>
<li><a href="#tibbleæ˜¾ç¤ºæ§åˆ¶"><span class="toc-section-number">2</span> tibbleæ˜¾ç¤ºæ§åˆ¶</a>
<ul>
<li><a href="#ä½¿ç”¨printå‡½æ•°"><span class="toc-section-number">2.1</span> ä½¿ç”¨<code>print()</code>å‡½æ•°</a></li>
<li><a href="#ä¿®æ”¹optionsé»˜è®¤å‚æ•°"><span class="toc-section-number">2.2</span> ä¿®æ”¹<code>options()</code>é»˜è®¤å‚æ•°</a></li>
</ul></li>
<li><a href="#tibbleåˆ‡ç‰‡æ“ä½œ"><span class="toc-section-number">3</span> tibbleåˆ‡ç‰‡æ“ä½œ</a></li>
<li><a href="#tibbleæ·»åŠ æ–°çš„åˆ—æˆ–è€…è¡Œ"><span class="toc-section-number">4</span> tibbleæ·»åŠ æ–°çš„åˆ—æˆ–è€…è¡Œ</a>
<ul>
<li><a href="#æ·»åŠ æ–°çš„è¡Œ"><span class="toc-section-number">4.1</span> æ·»åŠ æ–°çš„è¡Œ</a></li>
<li><a href="#æ·»åŠ æ–°çš„åˆ—"><span class="toc-section-number">4.2</span> æ·»åŠ æ–°çš„åˆ—</a></li>
</ul></li>
<li><a href="#tibbleå¯¹åˆ—åå’Œè¡Œåçš„æ“ä½œ"><span class="toc-section-number">5</span> tibbleå¯¹åˆ—åå’Œè¡Œåçš„æ“ä½œ</a>
<ul>
<li><a href="#åˆ¤æ–­æ˜¯å¦æœ‰è¡Œå"><span class="toc-section-number">5.1</span> åˆ¤æ–­æ˜¯å¦æœ‰è¡Œå</a></li>
<li><a href="#è¡Œåå’ŒæŸä¸€åˆ—äº’ç›¸è½¬æ¢"><span class="toc-section-number">5.2</span> è¡Œåå’ŒæŸä¸€åˆ—äº’ç›¸è½¬æ¢</a></li>
</ul></li>
</ul>
</div>

<div id="åˆ›å»ºä¸€ä¸ªtibble" class="section level1" number="1">
<h1><span class="header-section-number">1</span> åˆ›å»ºä¸€ä¸ªtibble</h1>
<div id="tibbleå‡½æ•°" class="section level2" number="1.1">
<h2><span class="header-section-number">1.1</span> <code>tibble()</code>å‡½æ•°</h2>
<p>ä½¿ç”¨<code>tibble()</code>å¯ä»¥åˆ›å»ºæ–°çš„<code>tibble</code>å¯¹è±¡,ä½†æ˜¯ä¸€èˆ¬ç”¨æ¥åˆ›å»ºæ¯”è¾ƒç®€å•çš„tibbleã€‚</p>
<pre class="r"><code>library(tidyverse)</code></pre>
<pre><code>## â”€â”€ Attaching packages â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ tidyverse 1.3.0 â”€â”€</code></pre>
<pre><code>## âœ“ ggplot2 3.3.3     âœ“ purrr   0.3.4
## âœ“ tibble  3.1.0     âœ“ dplyr   1.0.4
## âœ“ tidyr   1.1.3     âœ“ stringr 1.4.0
## âœ“ readr   1.4.0     âœ“ forcats 0.5.0</code></pre>
<pre><code>## â”€â”€ Conflicts â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ tidyverse_conflicts() â”€â”€
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<pre class="r"><code>a &lt;- 1
b &lt;- 2:6
tibble(a, b)</code></pre>
<pre><code>## # A tibble: 5 x 2
##       a     b
##   &lt;dbl&gt; &lt;int&gt;
## 1     1     2
## 2     1     3
## 3     1     4
## 4     1     5
## 5     1     6</code></pre>
<pre class="r"><code># ä½¿ç”¨ä¸‹åˆ—æ–¹æ³•ä¿®æ”¹åˆ—å
tibble(column1 = a, column2 = b)</code></pre>
<pre><code>## # A tibble: 5 x 2
##   column1 column2
##     &lt;dbl&gt;   &lt;int&gt;
## 1       1       2
## 2       1       3
## 3       1       4
## 4       1       5
## 5       1       6</code></pre>
<p>éœ€è¦æ³¨æ„çš„æ˜¯,å¦‚æœè¾“å…¥çš„vectoré•¿åº¦ä¸ä¸€è‡´,åªæœ‰å…¶ä¸­æŸä¸€ä¸ªé•¿åº¦ä¸º1,æ‰ä¼šå¾ªç¯è¡¥é½,å¦åˆ™æŠ¥é”™.</p>
<p><code>tibble()</code>å‡½æ•°æœ‰ä¸€ä¸ªå‚æ•°å¯ä»¥æ³¨æ„ä¸€ä¸‹:<code>.name_repair</code>,ç”¨æ¥æ§åˆ¶å¯¹é‚£äº›ä¸å¦‚ä½•è§„çŸ©çš„åˆ—åå¦‚ä½•å¤„ç†.å¸¸ç”¨çš„ä¸€å…±æœ‰4ä¸ªé€‰é¡¹:</p>
<ul>
<li><p><strong>minimal</strong> å¯¹åˆ—åä¸åšä»»ä½•å¤„ç†,æ—¢ä¸åšåˆ—åæ£€æŸ¥,ä¹Ÿä¸åšå¤„ç†.</p></li>
<li><p><strong>unique</strong> ä¿è¯åˆ—åéƒ½æ˜¯å”¯ä¸€çš„å¹¶ä¸”ä¸èƒ½ä¸ºç©º.</p></li>
</ul>
<pre class="r"><code>#å¦‚æœåˆ—åæ˜¯é‡å¤çš„,ä¼šåœ¨åˆ—åååŠ å…¥ä¸åŒçš„åºå·.
try(
 tibble(a = 1:3, a = 1:3, 1:3, .name_repair = &quot;unique&quot;) 
)</code></pre>
<pre><code>## New names:
## * a -&gt; a...1
## * a -&gt; a...2</code></pre>
<pre><code>## # A tibble: 3 x 3
##   a...1 a...2 `1:3`
##   &lt;int&gt; &lt;int&gt; &lt;int&gt;
## 1     1     1     1
## 2     2     2     2
## 3     3     3     3</code></pre>
<ul>
<li><strong>check_unique</strong> è¿™æ˜¯é»˜è®¤çš„å‚æ•°è®¾ç½®,ä¸å¯¹åˆ—ååšä¿®æ”¹,åªåšåˆ—åæ£€æŸ¥.</li>
</ul>
<pre class="r"><code>#å¦‚æœåˆ—åæ˜¯é‡å¤çš„,åˆ™ä¼šæŠ¥é”™
try(
 tibble(a = 1:3, a = 1:3) 
)</code></pre>
<pre><code>## Error : Column name `a` must not be duplicated.
## Use .name_repair to specify repair.</code></pre>
<ul>
<li><strong>universal</strong> ä¿è¯åˆ—åéƒ½æ˜¯å”¯ä¸€çš„å¹¶ä¸”ç¬¦åˆRè¯­è¨€è¯­æ³•.</li>
</ul>
<p>å¦‚æœæœ‰ç›¸åŒçš„åˆ—å,ä¼šåœ¨åˆ—åååŠ å…¥ä¸åŒçš„åºå·.</p>
<pre class="r"><code>#å¦‚æœåˆ—åæ˜¯é‡å¤çš„,åˆ™ä¼šæŠ¥é”™
try(
 tibble(a = 1:3, a = 1:3, .name_repair = &quot;universal&quot;) 
)</code></pre>
<pre><code>## New names:
## * a -&gt; a...1
## * a -&gt; a...2</code></pre>
<pre><code>## # A tibble: 3 x 2
##   a...1 a...2
##   &lt;int&gt; &lt;int&gt;
## 1     1     1
## 2     2     2
## 3     3     3</code></pre>
</div>
<div id="as_tibbleå‡½æ•°" class="section level2" number="1.2">
<h2><span class="header-section-number">1.2</span> <code>as_tibble()</code>å‡½æ•°</h2>
<p>ä½¿ç”¨<code>as_tibble()</code>å‡½æ•°å¯ä»¥å°†å·²æœ‰çš„matrixå’Œdata.frameè½¬å˜ä¸ºtibbleå¯¹è±¡.</p>
<pre class="r"><code>test1 &lt;- 
  matrix(1:6, ncol = 2)
tibble::as_tibble(test1)</code></pre>
<pre><code>## Warning: The `x` argument of `as_tibble.matrix()` must have unique column names if `.name_repair` is omitted as of tibble 2.0.0.
## Using compatibility `.name_repair`.</code></pre>
<pre><code>## # A tibble: 3 x 2
##      V1    V2
##   &lt;int&gt; &lt;int&gt;
## 1     1     4
## 2     2     5
## 3     3     6</code></pre>
<pre class="r"><code>test2 &lt;- 
  data.frame(a = 1:3, b = 2:4, stringsAsFactors = FALSE)
tibble::as_tibble(test2)</code></pre>
<pre><code>## # A tibble: 3 x 2
##       a     b
##   &lt;int&gt; &lt;int&gt;
## 1     1     2
## 2     2     3
## 3     3     4</code></pre>
<p><code>as_tibble()</code>å‡½æ•°çš„å‚æ•°ä¸<code>tibble()</code>å¤§æ¦‚ç›¸åŒ,å¦å¤–ä¸€ä¸ªéœ€è¦æ³¨æ„çš„çš„å‚æ•°æ˜¯:<strong>rownames</strong>,ç”¨æ¥æ§åˆ¶å¦‚ä½•å¤„ç†åŸæœ‰çš„è¡Œå.å¦‚æœè®¾ç½®ä¸ºNULL,åˆ™å»é™¤æ‰è¡Œå(é»˜è®¤),å¦‚æœè®¾ç½®ä¸ºNA,åˆ™ä¿ç•™åŸæ¥çš„åˆ—å.è®¾ç½®ä¸ºä¸€ä¸ªstring vector,åˆ™å°†å…¶è®¾ç½®ä¸ºæ–°çš„åˆ—å.</p>
</div>
<div id="tribbleå‡½æ•°" class="section level2" number="1.3">
<h2><span class="header-section-number">1.3</span> <code>tribble()</code>å‡½æ•°</h2>
<p>ä½¿ç”¨<code>tribble()</code>å‡½æ•°å¯ä»¥ç”¨å¦å¤–ä¸€ç§æ–¹æ³•æ¥åˆ›å»ºtibbleå¯¹è±¡.</p>
<pre class="r"><code>tibble::tribble(
  ~colA, ~colB,
  ## two columns
  &quot;a&quot;,   1,
  &quot;b&quot;,   2,
  &quot;c&quot;,   3
)</code></pre>
<pre><code>## # A tibble: 3 x 2
##   colA   colB
##   &lt;chr&gt; &lt;dbl&gt;
## 1 a         1
## 2 b         2
## 3 c         3</code></pre>
<p>éœ€è¦æ³¨æ„çš„æ˜¯,tibbleå’Œdata.frameä¸€æ ·,ä»–ä»¬ä¸­çš„å…ƒç´ ä¹Ÿå¯ä»¥æ˜¯list.</p>
<pre class="r"><code>tribble(
  ~x,  ~y,
  &quot;a&quot;, 1:3,
  &quot;b&quot;, 4:6
)</code></pre>
<pre><code>## # A tibble: 2 x 2
##   x     y        
##   &lt;chr&gt; &lt;list&gt;   
## 1 a     &lt;int [3]&gt;
## 2 b     &lt;int [3]&gt;</code></pre>
</div>
<div id="enframeå‡½æ•°" class="section level2" number="1.4">
<h2><span class="header-section-number">1.4</span> <code>enframe()</code>å‡½æ•°</h2>
<p><code>enframe()</code>å¯ä»¥å°†vectorè½¬æ¢ä¸ºtibble,å¦å¤–æœ‰ä¸€ä¸ªç›¸åçš„å‡½æ•°,<code>deframe()</code>å‡½æ•°,å°†tibble/data.frameè½¬å˜ä¸ºvector.</p>
<pre class="r"><code>enframe(x = 1:3)</code></pre>
<pre><code>## # A tibble: 3 x 2
##    name value
##   &lt;int&gt; &lt;int&gt;
## 1     1     1
## 2     2     2
## 3     3     3</code></pre>
<pre class="r"><code>enframe(c(a = 5, b = 7))</code></pre>
<pre><code>## # A tibble: 2 x 2
##   name  value
##   &lt;chr&gt; &lt;dbl&gt;
## 1 a         5
## 2 b         7</code></pre>
<pre class="r"><code>enframe(list(one = 1, two = 2:3, three = 4:6))</code></pre>
<pre><code>## # A tibble: 3 x 2
##   name  value    
##   &lt;chr&gt; &lt;list&gt;   
## 1 one   &lt;dbl [1]&gt;
## 2 two   &lt;int [2]&gt;
## 3 three &lt;int [3]&gt;</code></pre>
<p><code>enframe()</code>çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯<code>x</code>,å¿…é¡»æ˜¯ä¸€ä¸ªvectoræˆ–è€…list,ä»–ä¼šå°†ä»–çš„æ¯ä¸€ä¸ªå…ƒç´ çš„åå­—ç»„æˆç¬¬ä¸€åˆ—,è€Œå…¶å†…å®¹ä½œä¸ºç¬¬äºŒåˆ—è½¬å˜ä¸ºä¸€ä¸ªtibble.ä¹Ÿå°±æ˜¯è¯´å…¶åªèƒ½ç”¨æ¥åˆ›å»ºä¸¤åˆ—çš„tibble.ä¸¤åˆ—çš„åˆ—åé»˜è®¤ä¸ºnameå’Œvalueå¦‚æœæƒ³è¦ä¿®æ”¹,å¯ä»¥æ›´æ”¹ä¸¤ä¸ªå‚æ•°(nameå’Œvalue).</p>
<p>ä½¿ç”¨<code>deframe()</code>å‡½æ•°å°†ä¸€ä¸ªä¸€åˆ—æˆ–è€…ä¸¤åˆ—çš„tibbleè½¬å˜ä¸ºvectoræˆ–è€…list.</p>
<pre class="r"><code>deframe(enframe(1:3))</code></pre>
<pre><code>## 1 2 3 
## 1 2 3</code></pre>
<hr />
</div>
</div>
<div id="tibbleæ˜¾ç¤ºæ§åˆ¶" class="section level1" number="2">
<h1><span class="header-section-number">2</span> tibbleæ˜¾ç¤ºæ§åˆ¶</h1>
<p>tibbleé»˜è®¤æƒ…å†µä¸‹åªè¾“å‡ºå‰åè¡Œå†…å®¹,åˆ—è‡ªåŠ¨é€‚åº”å±å¹•å®½åº¦,å¦‚æœæƒ³è¦è¾“å‡ºæ¯”é»˜è®¤æ›´å¤šçš„æ•°æ®,æœ‰ä»¥ä¸‹å‡ ç§æ–¹æ³•.</p>
<div id="ä½¿ç”¨printå‡½æ•°" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> ä½¿ç”¨<code>print()</code>å‡½æ•°</h2>
<p>ä½¿ç”¨<code>print()</code>å‡½æ•°,å¯ä»¥æ§åˆ¶è¡Œæ•°å’Œåˆ—æ•°.</p>
<pre class="r"><code>library(tidyverse)
# é»˜è®¤æ˜¾ç¤º
nycflights13::flights</code></pre>
<pre><code>## # A tibble: 336,776 x 19
##     year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
##  1  2013     1     1      517            515         2      830            819
##  2  2013     1     1      533            529         4      850            830
##  3  2013     1     1      542            540         2      923            850
##  4  2013     1     1      544            545        -1     1004           1022
##  5  2013     1     1      554            600        -6      812            837
##  6  2013     1     1      554            558        -4      740            728
##  7  2013     1     1      555            600        -5      913            854
##  8  2013     1     1      557            600        -3      709            723
##  9  2013     1     1      557            600        -3      838            846
## 10  2013     1     1      558            600        -2      753            745
## # â€¦ with 336,766 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
## #   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
## #   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<pre class="r"><code># è¾“å‡º15è¡ŒåŠæ‰€æœ‰åˆ—æ•°
nycflights13::flights %&gt;% 
  print(n = 15, width = Inf)</code></pre>
<pre><code>## # A tibble: 336,776 x 19
##     year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
##  1  2013     1     1      517            515         2      830            819
##  2  2013     1     1      533            529         4      850            830
##  3  2013     1     1      542            540         2      923            850
##  4  2013     1     1      544            545        -1     1004           1022
##  5  2013     1     1      554            600        -6      812            837
##  6  2013     1     1      554            558        -4      740            728
##  7  2013     1     1      555            600        -5      913            854
##  8  2013     1     1      557            600        -3      709            723
##  9  2013     1     1      557            600        -3      838            846
## 10  2013     1     1      558            600        -2      753            745
## 11  2013     1     1      558            600        -2      849            851
## 12  2013     1     1      558            600        -2      853            856
## 13  2013     1     1      558            600        -2      924            917
## 14  2013     1     1      558            600        -2      923            937
## 15  2013     1     1      559            600        -1      941            910
##    arr_delay carrier flight tailnum origin dest  air_time distance  hour minute
##        &lt;dbl&gt; &lt;chr&gt;    &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;    &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
##  1        11 UA        1545 N14228  EWR    IAH        227     1400     5     15
##  2        20 UA        1714 N24211  LGA    IAH        227     1416     5     29
##  3        33 AA        1141 N619AA  JFK    MIA        160     1089     5     40
##  4       -18 B6         725 N804JB  JFK    BQN        183     1576     5     45
##  5       -25 DL         461 N668DN  LGA    ATL        116      762     6      0
##  6        12 UA        1696 N39463  EWR    ORD        150      719     5     58
##  7        19 B6         507 N516JB  EWR    FLL        158     1065     6      0
##  8       -14 EV        5708 N829AS  LGA    IAD         53      229     6      0
##  9        -8 B6          79 N593JB  JFK    MCO        140      944     6      0
## 10         8 AA         301 N3ALAA  LGA    ORD        138      733     6      0
## 11        -2 B6          49 N793JB  JFK    PBI        149     1028     6      0
## 12        -3 B6          71 N657JB  JFK    TPA        158     1005     6      0
## 13         7 UA         194 N29129  JFK    LAX        345     2475     6      0
## 14       -14 UA        1124 N53441  EWR    SFO        361     2565     6      0
## 15        31 AA         707 N3DUAA  LGA    DFW        257     1389     6      0
##    time_hour          
##    &lt;dttm&gt;             
##  1 2013-01-01 05:00:00
##  2 2013-01-01 05:00:00
##  3 2013-01-01 05:00:00
##  4 2013-01-01 05:00:00
##  5 2013-01-01 06:00:00
##  6 2013-01-01 05:00:00
##  7 2013-01-01 06:00:00
##  8 2013-01-01 06:00:00
##  9 2013-01-01 06:00:00
## 10 2013-01-01 06:00:00
## 11 2013-01-01 06:00:00
## 12 2013-01-01 06:00:00
## 13 2013-01-01 06:00:00
## 14 2013-01-01 06:00:00
## 15 2013-01-01 06:00:00
## # â€¦ with 336,761 more rows</code></pre>
</div>
<div id="ä¿®æ”¹optionsé»˜è®¤å‚æ•°" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> ä¿®æ”¹<code>options()</code>é»˜è®¤å‚æ•°</h2>
<ul>
<li><p><code>options(tibble.print_max = n, tibble.pring_min = m)</code>:å¦‚æœå¤šäºmè¡Œ,åˆ™åªæ‰“å°å‡ºn
è¡Œ.<code>options(tibble.print_min = Inf)</code>è¡¨ç¤ºæ€»æ˜¯æ‰“å°æ‰€æœ‰è¡Œ.</p></li>
<li><p><code>options(tibble.width = Inf)</code>è¡¨ç¤ºæ€»æ˜¯æ‰“å°æ‰€æœ‰åˆ—,ä¸è€ƒè™‘å±å¹•çš„å®½åº¦.</p></li>
</ul>
<p><code>options()</code>ä¸­æ‰€æœ‰å’Œ<code>tibble</code>ç›¸å…³çš„å‚æ•°:</p>
<ol style="list-style-type: decimal">
<li><p><code>tibble.print_max</code>:Row number threshold: Maximum number of rows printed. Set to Inf to always print all rows. Default: 20.</p></li>
<li><p><code>tibble.print_min</code>: å¦‚æœè®¾ç½®ä¸ºm,æ„æ€å³ä¸ºå¦‚æœè¡Œæ•°å¤§äºm,åˆ™åªæ‰“å°å‡ºå‰nè¡Œ.</p></li>
<li><p><code>tibble.width</code>: æ‰“å°åˆ—çš„å®½åº¦.é»˜è®¤ä¸ºNULL,ä¹Ÿå°±æ˜¯é€‚åº”å±å¹•å®½åº¦.è®¾ç½®ä¸º<code>Inf</code>,åˆ™æ‰“å°å‡ºå…¨éƒ¨åˆ—.</p></li>
<li><p><code>tibble.max_extra_cols</code>: Number of extra columns printed in reduced form. Default: 100.</p></li>
<li><p><code>pillar.bold</code>: pillaræ˜¯æŸ±å­çš„æ„æ€.å¦‚æœè®¾ç½®ä¸ºTRUE,åˆ™åˆ—åä¸ºç²—ä½“,é»˜è®¤ä¸ºFALSE,å› ä¸ºåœ¨terminalä¸­å¾ˆå¤šå­—ä½“å¯¹ç²—ä½“æ”¯æŒä¸å¤Ÿ.</p></li>
<li><p><code>pillar.subtle</code>: æ˜¯å¦æ‰“å°å‡ºå…¶ä»–è¯¦ç»†çš„ä¿¡æ¯,æ¯”å¦‚æ€»çš„è¡Œå’Œåˆ—æ•°.é»˜è®¤ä¸ºTRUE.</p></li>
<li><p><code>pillar.subtle_num</code>: Use subtle style for insignificant digits? Default: FALSE, is also affected by the pillar.subtle option.</p></li>
<li><p><code>pillar.neg</code>: æ˜¯å¦é«˜äº®è´Ÿå€¼.é»˜è®¤ä¸ºTRUE.</p></li>
<li><p><code>pillar.sigfig</code>: é«˜äº®é‚£äº›æ•°å­—,æ¯”å¦‚å¦‚æœè®¾ç½®ä¸º3,åˆ™ä¼šé«˜äº®æ•°å­—3.</p></li>
<li><p><code>pillar.min_title_chars</code>: åˆ—åæ‰“å°æ—¶æœ€å°çš„å­—ç¬¦æ•°,é»˜è®¤ä¸º15.æ„å‘³ç€å¦‚æœæŸäº›åˆ—åå¤§äº15,åˆ™ä¼šè¢«æˆªæ–­.è®¾ç½®ä¸º<code>Inf</code>,æ‰“å°å‡ºå®Œæ•´çš„åˆ—å.</p></li>
</ol>
<hr />
</div>
</div>
<div id="tibbleåˆ‡ç‰‡æ“ä½œ" class="section level1" number="3">
<h1><span class="header-section-number">3</span> tibbleåˆ‡ç‰‡æ“ä½œ</h1>
<p>å¦‚ä½•å–å‡ºä¸€ä¸ªtibbleçš„ä¸€åˆ—æˆ–è€…å‡ åˆ—.</p>
<pre class="r"><code>test &lt;- as_tibble(mtcars)
test[,1, drop = TRUE]</code></pre>
<pre><code>##  [1] 21.0 21.0 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 17.8 16.4 17.3 15.2 10.4
## [16] 10.4 14.7 32.4 30.4 33.9 21.5 15.5 15.2 13.3 19.2 27.3 26.0 30.4 15.8 19.7
## [31] 15.0 21.4</code></pre>
<pre class="r"><code>mtcars[,1]</code></pre>
<pre><code>##  [1] 21.0 21.0 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 17.8 16.4 17.3 15.2 10.4
## [16] 10.4 14.7 32.4 30.4 33.9 21.5 15.5 15.2 13.3 19.2 27.3 26.0 30.4 15.8 19.7
## [31] 15.0 21.4</code></pre>
<p>tibbleå¦‚æœä½¿ç”¨<code>[</code>å‡½æ•°æ¥è¿›è¡Œé€‰æ‹©æŸä¸€åˆ—,åˆ™é»˜è®¤å‡ºæ¥çš„è¿˜æ˜¯ä¸€ä¸ªtibble,å½“ç„¶å¯ä»¥ä½¿ç”¨<code>drop</code>å‚æ•°æ¥è®¾ç½®ä¸ºTRUE,è®©å…¶è½¬å˜æˆä¸€ä¸ªvector.è€Œå¯¹äºdata.frame,åˆ™å–å‡ºä¸€åˆ—,é»˜è®¤ä¸ºvector.</p>
<pre class="r"><code>test$mpg</code></pre>
<pre><code>##  [1] 21.0 21.0 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 17.8 16.4 17.3 15.2 10.4
## [16] 10.4 14.7 32.4 30.4 33.9 21.5 15.5 15.2 13.3 19.2 27.3 26.0 30.4 15.8 19.7
## [31] 15.0 21.4</code></pre>
<pre class="r"><code>test[[&quot;mpg&quot;]]</code></pre>
<pre><code>##  [1] 21.0 21.0 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 17.8 16.4 17.3 15.2 10.4
## [16] 10.4 14.7 32.4 30.4 33.9 21.5 15.5 15.2 13.3 19.2 27.3 26.0 30.4 15.8 19.7
## [31] 15.0 21.4</code></pre>
<p>å½“ç„¶è¿˜å¯ä»¥ä½¿ç”¨<code>$</code>å’Œ<code>[[</code>å‡½æ•°,è¿™ä¸¤ä¸ªå‡½æ•°å–å‡ºæ¥çš„éƒ½æ˜¯vector.</p>
<pre class="r"><code>library(tidyverse)
test %&gt;% 
  pull(mpg)</code></pre>
<pre><code>##  [1] 21.0 21.0 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 17.8 16.4 17.3 15.2 10.4
## [16] 10.4 14.7 32.4 30.4 33.9 21.5 15.5 15.2 13.3 19.2 27.3 26.0 30.4 15.8 19.7
## [31] 15.0 21.4</code></pre>
<p>å½“ç„¶,è¿˜å¯ä»¥ä½¿ç”¨<code>dplyr</code>ä¸­çš„<code>pull()</code>å‡½æ•°,å–å‡ºæ¥çš„ä¹Ÿæ˜¯vector.</p>
</div>
<div id="tibbleæ·»åŠ æ–°çš„åˆ—æˆ–è€…è¡Œ" class="section level1" number="4">
<h1><span class="header-section-number">4</span> tibbleæ·»åŠ æ–°çš„åˆ—æˆ–è€…è¡Œ</h1>
<div id="æ·»åŠ æ–°çš„è¡Œ" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> æ·»åŠ æ–°çš„è¡Œ</h2>
<p>ä½¿ç”¨<code>add_row()</code>å‡½æ•°å¯ä»¥ç»™å·²æœ‰çš„tibbleå¯¹è±¡æ·»åŠ æ–°çš„è¡Œ.</p>
<pre class="r"><code>df &lt;- tibble(x = 1:3, y = 3:1)
add_row(df, x = 4, y = 0)</code></pre>
<pre><code>## # A tibble: 4 x 2
##       x     y
##   &lt;dbl&gt; &lt;dbl&gt;
## 1     1     3
## 2     2     2
## 3     3     1
## 4     4     0</code></pre>
<p>å¯ä»¥é€šè¿‡è®¾ç½®<code>.before</code>å’Œ<code>.after</code>å‚æ•°æ¥æŒ‡å®šæ’å…¥çš„ä½ç½®.é»˜è®¤éƒ½æ˜¯NULL,æ’å…¥åˆ°æœ€åçš„ä½ç½®.</p>
<pre class="r"><code>add_row(df, x = 4, y = 0, .before = 1)</code></pre>
<pre><code>## # A tibble: 4 x 2
##       x     y
##   &lt;dbl&gt; &lt;dbl&gt;
## 1     4     0
## 2     1     3
## 3     2     2
## 4     3     1</code></pre>
<pre class="r"><code>add_row(df, x = 4, y = 0, .before = 2)</code></pre>
<pre><code>## # A tibble: 4 x 2
##       x     y
##   &lt;dbl&gt; &lt;dbl&gt;
## 1     1     3
## 2     4     0
## 3     2     2
## 4     3     1</code></pre>
<pre class="r"><code>add_row(df, x = 4, y = 0, .before = 3)</code></pre>
<pre><code>## # A tibble: 4 x 2
##       x     y
##   &lt;dbl&gt; &lt;dbl&gt;
## 1     1     3
## 2     2     2
## 3     4     0
## 4     3     1</code></pre>
<p><code>.before</code>è®¾ç½®ä¸ºn,åˆ™æ˜¯æŒ‡ä»åŸæ¥çš„ç¬¬nè¡Œçš„å‰ä¸€è¡Œå¼€å§‹æ·»åŠ .</p>
<pre class="r"><code>add_row(df, x = 4, y = 0, .after = 1)</code></pre>
<pre><code>## # A tibble: 4 x 2
##       x     y
##   &lt;dbl&gt; &lt;dbl&gt;
## 1     1     3
## 2     4     0
## 3     2     2
## 4     3     1</code></pre>
<pre class="r"><code>add_row(df, x = 4, y = 0, .after = 2)</code></pre>
<pre><code>## # A tibble: 4 x 2
##       x     y
##   &lt;dbl&gt; &lt;dbl&gt;
## 1     1     3
## 2     2     2
## 3     4     0
## 4     3     1</code></pre>
<pre class="r"><code>add_row(df, x = 4, y = 0, .after = 3)</code></pre>
<pre><code>## # A tibble: 4 x 2
##       x     y
##   &lt;dbl&gt; &lt;dbl&gt;
## 1     1     3
## 2     2     2
## 3     3     1
## 4     4     0</code></pre>
<p><code>.after</code>è®¾ç½®ä¸ºm,åˆ™æ˜¯æŒ‡ä»åŸæ¥çš„ç¬¬mè¡Œçš„åé¢ä¸€è¡Œå¼€å§‹æ·»åŠ .</p>
<p>å¦‚æœæŸäº›è¡Œä¸æä¾›æ–°çš„å…ƒç´ ,åˆ™ä¼šå˜ä¸ºNA.</p>
<pre class="r"><code>add_row(df, x = 4)</code></pre>
<pre><code>## # A tibble: 4 x 2
##       x     y
##   &lt;dbl&gt; &lt;int&gt;
## 1     1     3
## 2     2     2
## 3     3     1
## 4     4    NA</code></pre>
</div>
<div id="æ·»åŠ æ–°çš„åˆ—" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> æ·»åŠ æ–°çš„åˆ—</h2>
<p>ä½¿ç”¨<code>add_column()</code>å‡½æ•°å¯ä»¥ç»™å·²æœ‰çš„tibbleå¯¹è±¡æ·»åŠ æ–°çš„åˆ—.è·Ÿ<code>add_column()</code>ä¸€æ ·çš„.</p>
<pre class="r"><code># add_column ---------------------------------
df &lt;- tibble(x = 1:3, y = 3:1)
add_column(df, z = -1:1, w = 0)</code></pre>
<pre><code>## # A tibble: 3 x 4
##       x     y     z     w
##   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt;
## 1     1     3    -1     0
## 2     2     2     0     0
## 3     3     1     1     0</code></pre>
<p>éœ€è¦æ³¨æ„çš„æ˜¯,å¹¶ä¸èƒ½è¦†ç›–åŸæ¥çš„åˆ—ä»¥åŠå’ŒåŸæ¥çš„è¡Œæ•°ä¸ä¸€æ ·çš„æ–°çš„åˆ—.</p>
<pre class="r"><code># You can&#39;t overwrite existing columns
try(
add_column(df, x = 4:6)  
)</code></pre>
<pre><code>## Error : Column name `x` must not be duplicated.
## Use .name_repair to specify repair.</code></pre>
<pre class="r"><code># You can&#39;t create new observations
try(
 add_column(df, z = 1:5) 
)</code></pre>
<pre><code>## Error : New columns must be compatible with `.data`.
## x New column has 5 rows.
## â„¹ `.data` has 3 rows.</code></pre>
<p>æ‰€ä»¥å…¶å®å¹¶ä¸æ–¹ä¾¿,è¿˜æ˜¯ä½¿ç”¨<code>dplyr</code>æ›´æ–¹ä¾¿.</p>
</div>
</div>
<div id="tibbleå¯¹åˆ—åå’Œè¡Œåçš„æ“ä½œ" class="section level1" number="5">
<h1><span class="header-section-number">5</span> tibbleå¯¹åˆ—åå’Œè¡Œåçš„æ“ä½œ</h1>
<div id="åˆ¤æ–­æ˜¯å¦æœ‰è¡Œå" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> åˆ¤æ–­æ˜¯å¦æœ‰è¡Œå</h2>
<pre class="r"><code>head(mtcars)</code></pre>
<pre><code>##                    mpg cyl disp  hp drat    wt  qsec vs am gear carb
## Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
## Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
## Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
## Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1
## Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2
## Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1</code></pre>
<pre class="r"><code>rownames(mtcars)</code></pre>
<pre><code>##  [1] &quot;Mazda RX4&quot;           &quot;Mazda RX4 Wag&quot;       &quot;Datsun 710&quot;         
##  [4] &quot;Hornet 4 Drive&quot;      &quot;Hornet Sportabout&quot;   &quot;Valiant&quot;            
##  [7] &quot;Duster 360&quot;          &quot;Merc 240D&quot;           &quot;Merc 230&quot;           
## [10] &quot;Merc 280&quot;            &quot;Merc 280C&quot;           &quot;Merc 450SE&quot;         
## [13] &quot;Merc 450SL&quot;          &quot;Merc 450SLC&quot;         &quot;Cadillac Fleetwood&quot; 
## [16] &quot;Lincoln Continental&quot; &quot;Chrysler Imperial&quot;   &quot;Fiat 128&quot;           
## [19] &quot;Honda Civic&quot;         &quot;Toyota Corolla&quot;      &quot;Toyota Corona&quot;      
## [22] &quot;Dodge Challenger&quot;    &quot;AMC Javelin&quot;         &quot;Camaro Z28&quot;         
## [25] &quot;Pontiac Firebird&quot;    &quot;Fiat X1-9&quot;           &quot;Porsche 914-2&quot;      
## [28] &quot;Lotus Europa&quot;        &quot;Ford Pantera L&quot;      &quot;Ferrari Dino&quot;       
## [31] &quot;Maserati Bora&quot;       &quot;Volvo 142E&quot;</code></pre>
<pre class="r"><code>has_rownames(mtcars)</code></pre>
<pre><code>## [1] TRUE</code></pre>
<pre class="r"><code>head(iris)</code></pre>
<pre><code>##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.1         3.5          1.4         0.2  setosa
## 2          4.9         3.0          1.4         0.2  setosa
## 3          4.7         3.2          1.3         0.2  setosa
## 4          4.6         3.1          1.5         0.2  setosa
## 5          5.0         3.6          1.4         0.2  setosa
## 6          5.4         3.9          1.7         0.4  setosa</code></pre>
<pre class="r"><code>rownames(iris)</code></pre>
<pre><code>##   [1] &quot;1&quot;   &quot;2&quot;   &quot;3&quot;   &quot;4&quot;   &quot;5&quot;   &quot;6&quot;   &quot;7&quot;   &quot;8&quot;   &quot;9&quot;   &quot;10&quot;  &quot;11&quot;  &quot;12&quot; 
##  [13] &quot;13&quot;  &quot;14&quot;  &quot;15&quot;  &quot;16&quot;  &quot;17&quot;  &quot;18&quot;  &quot;19&quot;  &quot;20&quot;  &quot;21&quot;  &quot;22&quot;  &quot;23&quot;  &quot;24&quot; 
##  [25] &quot;25&quot;  &quot;26&quot;  &quot;27&quot;  &quot;28&quot;  &quot;29&quot;  &quot;30&quot;  &quot;31&quot;  &quot;32&quot;  &quot;33&quot;  &quot;34&quot;  &quot;35&quot;  &quot;36&quot; 
##  [37] &quot;37&quot;  &quot;38&quot;  &quot;39&quot;  &quot;40&quot;  &quot;41&quot;  &quot;42&quot;  &quot;43&quot;  &quot;44&quot;  &quot;45&quot;  &quot;46&quot;  &quot;47&quot;  &quot;48&quot; 
##  [49] &quot;49&quot;  &quot;50&quot;  &quot;51&quot;  &quot;52&quot;  &quot;53&quot;  &quot;54&quot;  &quot;55&quot;  &quot;56&quot;  &quot;57&quot;  &quot;58&quot;  &quot;59&quot;  &quot;60&quot; 
##  [61] &quot;61&quot;  &quot;62&quot;  &quot;63&quot;  &quot;64&quot;  &quot;65&quot;  &quot;66&quot;  &quot;67&quot;  &quot;68&quot;  &quot;69&quot;  &quot;70&quot;  &quot;71&quot;  &quot;72&quot; 
##  [73] &quot;73&quot;  &quot;74&quot;  &quot;75&quot;  &quot;76&quot;  &quot;77&quot;  &quot;78&quot;  &quot;79&quot;  &quot;80&quot;  &quot;81&quot;  &quot;82&quot;  &quot;83&quot;  &quot;84&quot; 
##  [85] &quot;85&quot;  &quot;86&quot;  &quot;87&quot;  &quot;88&quot;  &quot;89&quot;  &quot;90&quot;  &quot;91&quot;  &quot;92&quot;  &quot;93&quot;  &quot;94&quot;  &quot;95&quot;  &quot;96&quot; 
##  [97] &quot;97&quot;  &quot;98&quot;  &quot;99&quot;  &quot;100&quot;
##  [ reached getOption(&quot;max.print&quot;) -- omitted 50 entries ]</code></pre>
<pre class="r"><code>has_rownames(iris)</code></pre>
<pre><code>## [1] FALSE</code></pre>
<p>å¯ä»¥ä½¿ç”¨<code>remove_rownames()</code>å‡½æ•°å»é™¤æ‰è¡Œå.å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨å°†è¡Œåè®¾ç½®ä¸ºNULLæ‰“åˆ°ç›®çš„</p>
<pre class="r"><code>has_rownames(mtcars)</code></pre>
<pre><code>## [1] TRUE</code></pre>
<pre class="r"><code>mtcars2 &lt;- 
  remove_rownames(mtcars)
has_rownames(mtcars2)</code></pre>
<pre><code>## [1] FALSE</code></pre>
</div>
<div id="è¡Œåå’ŒæŸä¸€åˆ—äº’ç›¸è½¬æ¢" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> è¡Œåå’ŒæŸä¸€åˆ—äº’ç›¸è½¬æ¢</h2>
<p><code>rownames_to_column()</code>å‡½æ•°å¯ä»¥å°†tibbleçš„è¡Œåè½¬å˜ä¸ºæŸä¸€åˆ—,å¹¶ä¸”åˆ é™¤æ‰è¡Œå.</p>
<pre class="r"><code>mtcars2 &lt;- 
rownames_to_column(mtcars, var = &quot;test&quot;)
mtcars2 %&gt;% 
  as_tibble()</code></pre>
<pre><code>## # A tibble: 32 x 12
##    test          mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
##    &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1 Mazda RX4    21       6  160    110  3.9   2.62  16.5     0     1     4     4
##  2 Mazda RX4 â€¦  21       6  160    110  3.9   2.88  17.0     0     1     4     4
##  3 Datsun 710   22.8     4  108     93  3.85  2.32  18.6     1     1     4     1
##  4 Hornet 4 Dâ€¦  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1
##  5 Hornet Spoâ€¦  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2
##  6 Valiant      18.1     6  225    105  2.76  3.46  20.2     1     0     3     1
##  7 Duster 360   14.3     8  360    245  3.21  3.57  15.8     0     0     3     4
##  8 Merc 240D    24.4     4  147.    62  3.69  3.19  20       1     0     4     2
##  9 Merc 230     22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2
## 10 Merc 280     19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4
## # â€¦ with 22 more rows</code></pre>
<p>å¦å¤–ä¸€ä¸ªå‡½æ•°,<code>rowid_to_column()</code>å¯ä»¥å»é™¤æ‰è¡Œå,å¹¶åœ¨æœ€å¼€å§‹æ·»åŠ ä¸€åˆ—rowid,ä»1å¼€å§‹.</p>
<pre class="r"><code>rowid_to_column(mtcars) %&gt;% 
  as_tibble()</code></pre>
<pre><code>## # A tibble: 32 x 12
##    rowid   mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
##    &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1     1  21       6  160    110  3.9   2.62  16.5     0     1     4     4
##  2     2  21       6  160    110  3.9   2.88  17.0     0     1     4     4
##  3     3  22.8     4  108     93  3.85  2.32  18.6     1     1     4     1
##  4     4  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1
##  5     5  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2
##  6     6  18.1     6  225    105  2.76  3.46  20.2     1     0     3     1
##  7     7  14.3     8  360    245  3.21  3.57  15.8     0     0     3     4
##  8     8  24.4     4  147.    62  3.69  3.19  20       1     0     4     2
##  9     9  22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2
## 10    10  19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4
## # â€¦ with 22 more rows</code></pre>
<p>å½“ç„¶ä¹Ÿå¯ä»¥å°†æŸä¸€åˆ—å˜ä¸ºè¡Œå:<code>column_to_rownames()</code>.æ³¨æ„å¿…é¡»è¦æ±‚tibbleæ²¡æœ‰è¡Œå,ä¸”æ–°çš„è¡Œåæ˜¯æ²¡æœ‰é‡å¤å…ƒç´ çš„.</p>
<pre class="r"><code>column_to_rownames(mtcars2, var = &quot;test&quot;)</code></pre>
<pre><code>##                    mpg cyl  disp  hp drat    wt  qsec vs am gear carb
## Mazda RX4         21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4
## Mazda RX4 Wag     21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4
## Datsun 710        22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
## Hornet 4 Drive    21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1
## Hornet Sportabout 18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2
## Valiant           18.1   6 225.0 105 2.76 3.460 20.22  1  0    3    1
## Duster 360        14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4
## Merc 240D         24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2
## Merc 230          22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2
##  [ reached &#39;max&#39; / getOption(&quot;max.print&quot;) -- omitted 23 rows ]</code></pre>
</div>
</div>

    </div>

    





<div class="article-tags">
  
  <a class="badge badge-light" href="/tag/blog/">Blog</a>
  
  <a class="badge badge-light" href="/tag/chinese/">Chinese</a>
  
</div>



<div class="share-box">
  <ul class="share">
    
      
      
      
        
      
      
      
      
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fjaspershen.github.io%2Fpost%2F2019-10-09-tibble-cookbook%2F&amp;text=tibble&#43;cookbook" target="_blank" rel="noopener" class="share-btn-twitter" aria-label="twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Fjaspershen.github.io%2Fpost%2F2019-10-09-tibble-cookbook%2F&amp;t=tibble&#43;cookbook" target="_blank" rel="noopener" class="share-btn-facebook" aria-label="facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      
      
      
      
        
      
      <li>
        <a href="mailto:?subject=tibble%20cookbook&amp;body=https%3A%2F%2Fjaspershen.github.io%2Fpost%2F2019-10-09-tibble-cookbook%2F" target="_blank" rel="noopener" class="share-btn-email" aria-label="envelope">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=https%3A%2F%2Fjaspershen.github.io%2Fpost%2F2019-10-09-tibble-cookbook%2F&amp;title=tibble&#43;cookbook" target="_blank" rel="noopener" class="share-btn-linkedin" aria-label="linkedin-in">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      
      
      
      
      <li>
        <a href="whatsapp://send?text=tibble&#43;cookbook%20https%3A%2F%2Fjaspershen.github.io%2Fpost%2F2019-10-09-tibble-cookbook%2F" target="_blank" rel="noopener" class="share-btn-whatsapp" aria-label="whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      
      
      
      
      <li>
        <a href="https://service.weibo.com/share/share.php?url=https%3A%2F%2Fjaspershen.github.io%2Fpost%2F2019-10-09-tibble-cookbook%2F&amp;title=tibble&#43;cookbook" target="_blank" rel="noopener" class="share-btn-weibo" aria-label="weibo">
          <i class="fab fa-weibo"></i>
        </a>
      </li>
    
  </ul>
</div>











  
  



  
  
  
    
  
  
  
  <div class="media author-card content-widget-hr">
    
      
      <a href="https://jaspershen.github.io/"><img class="avatar mr-3 avatar-circle" src="/authors/admin/avatar_hu86242519a21313948ac7dc77e0a27da6_1568301_270x270_fill_q75_lanczos_center.jpg" alt="Xiaotao Shen"></a>
    

    <div class="media-body">
      <h5 class="card-title"><a href="https://jaspershen.github.io/">Xiaotao Shen</a></h5>
      <h6 class="card-subtitle">Postdoctoral Research Fellow</h6>
      <p class="card-text">Metabolomics, Multi-omics, Bioinformatics, Systems Biology.</p>
      <ul class="network-icon" aria-hidden="true">
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="/#contact" >
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://twitter.com/GeorgeCushen" target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://scholar.google.co.uk/citations?user=sIwtMXoAAAAJ" target="_blank" rel="noopener">
        <i class="fas fa-graduation-cap"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://github.com/gcushen" target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://www.linkedin.com/" target="_blank" rel="noopener">
        <i class="fab fa-linkedin"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="/uploads/resume.pdf" >
        <i class="ai ai-cv"></i>
      </a>
    </li>
  
</ul>

    </div>
  </div>


















  </div>
</article>
  </div>

  <div class="page-footer">
    
    
    <div class="container">
      <footer class="site-footer">

  












  
  
  
  
  













  
  
  

  
  
    
  
  
    
  

  

  
  <p class="powered-by copyright-license-text">
    Â© 2023 Xiaotao Shen
  </p>
  

  <p class="powered-by footer-license-icons">
    <a href="https://creativecommons.org/licenses/by-nc-nd/4.0" rel="noopener noreferrer" target="_blank" aria-label="Creative Commons">
      <i class="fab fa-creative-commons fa-2x" aria-hidden="true"></i>
      <i class="fab fa-creative-commons-by fa-2x" aria-hidden="true"></i>
      
        <i class="fab fa-creative-commons-nc fa-2x" aria-hidden="true"></i>
      
      
        <i class="fab fa-creative-commons-nd fa-2x" aria-hidden="true"></i>
      
    </a>
  </p>





  <p class="powered-by">
    
    
    
      
      
      
      
      
      
      Published with <a href="https://wowchemy.com/?utm_campaign=poweredby" target="_blank" rel="noopener">Wowchemy</a> â€” the free, <a href="https://github.com/wowchemy/wowchemy-hugo-themes" target="_blank" rel="noopener">open source</a> website builder that empowers creators.
    
  </p>
</footer>

    </div>
    
  </div>

  


<script src="/js/vendor-bundle.min.f64289d8217e08e3afcd597d60836062.js"></script>




  

  
  

  













  
  <script id="search-hit-fuse-template" type="text/x-template">
    <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
    </div>
  </script>
  
    <script src="https://cdn.jsdelivr.net/gh/krisk/Fuse@v3.2.1/dist/fuse.min.js" integrity="sha512-o38bmzBGX+hD3JHWUFCDA09btWaqrNmoJ3RXLlrysA7PP01Kgs4UlE4MhelE1v5dJR3+cxlR4qQlotsW7jKsnw==" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/gh/julmot/mark.js@8.11.1/dist/jquery.mark.min.js" integrity="sha512-mhbv5DqBMgrWL+32MmsDOt/OAvqr/cHimk6B8y/bx/xS88MVkYGPiVv2ixKVrkywF2qHplNRUvFsAHUdxZ3Krg==" crossorigin="anonymous"></script>
  












  
  
  
  
  
  
  







<script id="page-data" type="application/json">{"use_headroom":true}</script>



  <script src="/js/wowchemy-headroom.db4755770454eb63685f8de785c0a172.js" type="module"></script>









  
  


<script src="/en/js/wowchemy.min.ead4a376bcf2c4714888c770ea9b0040.js"></script>







  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        
        <pre><code></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>


  <script src="/js/wowchemy-publication.68f8d7090562ca65fc6d3cb3f8f2d2cb.js" type="module"></script>


















</body>
</html>
