<!DOCTYPE html>
<!-- This site was created with Wowchemy. https://www.wowchemy.com -->
<!-- Last Published: August 10, 2023 --><html lang="en-us" >


<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  
  
    <meta name="generator" content="Wowchemy 5.7.0 for Hugo" />
  

  
  












  
  










  







  
  
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  

  
  
  
    
      
      <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Bruno+Ace&family=Limelight&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Bruno+Ace&family=Limelight&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" media="print" onload="this.media='all'">
    
  

  
  

  
  
    
    <script src="/js/mathjax-config.js"></script>
  

  

  <link rel="stylesheet" href="/css/vendor-bundle.min.047268c6dd09ad74ba54a0ba71837064.css" media="print" onload="this.media='all'">

  
  
  
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.2/css/academicons.min.css" integrity="sha512-KlJCpRsLf+KKu2VQa5vmRuClRFjxc5lXO03ixZt82HZUk41+1I0bD8KBSA0fY290ayMfWYI9udIqeOWSu1/uZg==" crossorigin="anonymous" media="print" onload="this.media='all'">
    

    
    
    
    
      
      
    
    
    

    
    
    

    

    
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" integrity="" crossorigin="anonymous" async></script>
      
    
      
      

      
      

      
    
      
      

      
      

      
    
  

  
  
  
  
  
  
  <link rel="stylesheet" href="/css/wowchemy.00f70589ff95c2db8722b74912195f3f.css" />

  
  
  

  
  
  
  
  
  
  
    
    
    <link rel="stylesheet" href="/css/libs/chroma/github-light.min.css" title="hl-light" media="print" onload="this.media='all'" >
    <link rel="stylesheet" href="/css/libs/chroma/dracula.min.css" title="hl-dark" media="print" onload="this.media='all'" disabled>
  

  
  


























  
  
  






  <meta name="author" content="Xiaotao Shen" />





  

<meta name="description" content="1 å®‰è£…2 Numpyä¸­çš„æ•°æ®æ ¼å¼3 Numpy arrayåŸºç¡€3.1 Arrayçš„å±æ€§3.2 Arrayç´¢å¼•:è·å¾—å…¶ä¸­å•ä¸ªå…ƒç´ 3.3 Arrayåˆ‡ç‰‡:è·å¾—ä¸€ä¸ªsubarray3.3.1 ä¸€ç»´array3.3.2 å¤šç»´array3.4 é‡å¡‘arrayçš„å½¢çŠ¶3.5 Arrayçš„åˆå¹¶å’Œåˆ†è£‚(Concatenation and Splitting)3.5.1 åˆå¹¶array3.5.2 åˆ†å‰²array4 åœ¨Numpy arrayä¸Šè¿›è¡Œè¿ç®—4." />



<link rel="alternate" hreflang="en-us" href="https://jaspershen.github.io/post/2019-11-24-python-numpy-summary/" />
<link rel="canonical" href="https://jaspershen.github.io/post/2019-11-24-python-numpy-summary/" />



  <link rel="manifest" href="/manifest.webmanifest" />



<link rel="icon" type="image/png" href="/media/icon_hu805a85e690e4f2727bf7d5f685d888f7_86836_32x32_fill_lanczos_center_3.png" />
<link rel="apple-touch-icon" type="image/png" href="/media/icon_hu805a85e690e4f2727bf7d5f685d888f7_86836_180x180_fill_lanczos_center_3.png" />

<meta name="theme-color" content="#007C48" />










  
  






<meta property="twitter:card" content="summary" />

  <meta property="twitter:site" content="@wowchemy" />
  <meta property="twitter:creator" content="@wowchemy" />
<meta property="twitter:image" content="https://jaspershen.github.io/media/icon_hu805a85e690e4f2727bf7d5f685d888f7_86836_512x512_fill_lanczos_center_3.png" />
<meta property="og:site_name" content="Xiaotao Shen" />
<meta property="og:url" content="https://jaspershen.github.io/post/2019-11-24-python-numpy-summary/" />
<meta property="og:title" content="Python NumPyåŒ…æ€»ç»“ | Xiaotao Shen" />
<meta property="og:description" content="1 å®‰è£…2 Numpyä¸­çš„æ•°æ®æ ¼å¼3 Numpy arrayåŸºç¡€3.1 Arrayçš„å±æ€§3.2 Arrayç´¢å¼•:è·å¾—å…¶ä¸­å•ä¸ªå…ƒç´ 3.3 Arrayåˆ‡ç‰‡:è·å¾—ä¸€ä¸ªsubarray3.3.1 ä¸€ç»´array3.3.2 å¤šç»´array3.4 é‡å¡‘arrayçš„å½¢çŠ¶3.5 Arrayçš„åˆå¹¶å’Œåˆ†è£‚(Concatenation and Splitting)3.5.1 åˆå¹¶array3.5.2 åˆ†å‰²array4 åœ¨Numpy arrayä¸Šè¿›è¡Œè¿ç®—4." /><meta property="og:image" content="https://jaspershen.github.io/media/icon_hu805a85e690e4f2727bf7d5f685d888f7_86836_512x512_fill_lanczos_center_3.png" /><meta property="og:locale" content="en-us" />

  
    <meta
      property="article:published_time"
      content="2019-11-24T00:00:00&#43;00:00"
    />
  
  
    <meta property="article:modified_time" content="2019-11-24T00:00:00&#43;00:00">
  






    






  




<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://jaspershen.github.io/post/2019-11-24-python-numpy-summary/"
  },
  "headline": "Python NumPyåŒ…æ€»ç»“",
  
  "datePublished": "2019-11-24T00:00:00Z",
  "dateModified": "2019-11-24T00:00:00Z",
  
  "author": {
    "@type": "Person",
    "name": "Xiaotao Shen"
  },
  
  "publisher": {
    "@type": "Organization",
    "name": "Xiaotao Shen",
    "logo": {
      "@type": "ImageObject",
      "url": "https://jaspershen.github.io/media/icon_hu805a85e690e4f2727bf7d5f685d888f7_86836_192x192_fill_lanczos_center_3.png"
    }
  },
  "description": "1 å®‰è£…\r2 Numpyä¸­çš„æ•°æ®æ ¼å¼\r3 Numpy arrayåŸºç¡€\r3.1 Arrayçš„å±æ€§\r3.2 Arrayç´¢å¼•:è·å¾—å…¶ä¸­å•ä¸ªå…ƒç´ \r3.3 Arrayåˆ‡ç‰‡:è·å¾—ä¸€ä¸ªsubarray\r3.3.1 ä¸€ç»´array\r3.3.2 å¤šç»´array\r3.4 é‡å¡‘arrayçš„å½¢çŠ¶\r3.5 Arrayçš„åˆå¹¶å’Œåˆ†è£‚(Concatenation and Splitting)\r3.5.1 åˆå¹¶array\r3.5.2 åˆ†å‰²array\r4 åœ¨Numpy arrayä¸Šè¿›è¡Œè¿ç®—\r4."
}
</script>

  

  




  
  
  

  
  

  


  
  <title>Python NumPyåŒ…æ€»ç»“ | Xiaotao Shen</title>

  
  
  
  











</head>


<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class="page-wrapper   " data-wc-page-id="fe845c62a5cf24cc157bb529dc2c5882" >

  
  
  
  
  
  
  
  
  
  <script src="/js/wowchemy-init.min.c51bb6301bb2be5edd35b3630c50ed3a.js"></script>

  


<aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#" aria-label="Close"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control"
        aria-label="Search...">
        
      </div>

      
      

      

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>



  <div class="page-header header--fixed">
  
  
  
  
  












<header>
  <nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
    <div class="container-xl">

      
      <div class="d-none d-lg-inline-flex">
        <a class="navbar-brand" href="/">Xiaotao Shen</a>
      </div>
      

      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar-content" aria-controls="navbar-content" aria-expanded="false" aria-label="Toggle navigation">
      <span><i class="fas fa-bars"></i></span>
      </button>
      

      
      <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
        <a class="navbar-brand" href="/">Xiaotao Shen</a>
      </div>
      

      
      
      <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

        
        <ul class="navbar-nav d-md-inline-flex">
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#about"><span>ğŸ  About</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#posts"><span>ğŸ“– Posts</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#projects"><span>ğŸ’» Projects</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#talks"><span>ğŸ—£ï¸ Talks</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#featured"><span>ğŸ—ï¸ Publications</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#contact"><span>ğŸ“¥ Contact</span></a>
          </li>

          
          

        

          
        </ul>
      </div>

      <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">

        
        
          
            
            <li class="nav-item d-none d-lg-inline-flex">
              <a class="nav-link" href="https://twitter.com/GeorgeCushen" target="_blank" rel="noopener" aria-label="github">
                <i class="fab fa-github" aria-hidden="true"></i>
              </a>
            </li>
          
        

        
        
        
        <li class="nav-item">
          <a class="nav-link js-search" href="#" aria-label="Search"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        
        
        
        <li class="nav-item dropdown theme-dropdown">
          <a href="#" class="nav-link" data-toggle="dropdown" aria-haspopup="true" aria-label="Display preferences">
            <i class="fas fa-moon" aria-hidden="true"></i>
          </a>
          <div class="dropdown-menu">
            <a href="#" class="dropdown-item js-set-theme-light">
              <span>Light</span>
            </a>
            <a href="#" class="dropdown-item js-set-theme-dark">
              <span>Dark</span>
            </a>
            <a href="#" class="dropdown-item js-set-theme-auto">
              <span>Automatic</span>
            </a>
          </div>
        </li>
        

        
        

      </ul>

    </div>
  </nav>
</header>


  </div>

  <div class="page-body">
    
    
    

    <article class="article">

  













  

  
  
  
<div class="article-container pt-3">
  <h1>Python NumPyåŒ…æ€»ç»“</h1>

  

  
    


<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    Nov 24, 2019
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    10 min read
  </span>
  

  
  
  
  

  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fas fa-folder mr-1"></i><a href="/category/python/">Python</a></span>
  

</div>

    





  
</div>



  <div class="article-container">

    <div class="article-style">
      

<div id="TOC">
<ul>
<li><a href="#å®‰è£…"><span class="toc-section-number">1</span> å®‰è£…</a></li>
<li><a href="#numpyä¸­çš„æ•°æ®æ ¼å¼"><span class="toc-section-number">2</span> Numpyä¸­çš„æ•°æ®æ ¼å¼</a></li>
<li><a href="#numpy-arrayåŸºç¡€"><span class="toc-section-number">3</span> Numpy arrayåŸºç¡€</a><ul>
<li><a href="#arrayçš„å±æ€§"><span class="toc-section-number">3.1</span> Arrayçš„å±æ€§</a></li>
<li><a href="#arrayç´¢å¼•è·å¾—å…¶ä¸­å•ä¸ªå…ƒç´ "><span class="toc-section-number">3.2</span> Arrayç´¢å¼•:è·å¾—å…¶ä¸­å•ä¸ªå…ƒç´ </a></li>
<li><a href="#arrayåˆ‡ç‰‡è·å¾—ä¸€ä¸ªsubarray"><span class="toc-section-number">3.3</span> Arrayåˆ‡ç‰‡:è·å¾—ä¸€ä¸ªsubarray</a><ul>
<li><a href="#ä¸€ç»´array"><span class="toc-section-number">3.3.1</span> ä¸€ç»´array</a></li>
<li><a href="#å¤šç»´array"><span class="toc-section-number">3.3.2</span> å¤šç»´array</a></li>
</ul></li>
<li><a href="#é‡å¡‘arrayçš„å½¢çŠ¶"><span class="toc-section-number">3.4</span> é‡å¡‘arrayçš„å½¢çŠ¶</a></li>
<li><a href="#arrayçš„åˆå¹¶å’Œåˆ†è£‚concatenation-and-splitting"><span class="toc-section-number">3.5</span> Arrayçš„åˆå¹¶å’Œåˆ†è£‚(Concatenation and Splitting)</a><ul>
<li><a href="#åˆå¹¶array"><span class="toc-section-number">3.5.1</span> åˆå¹¶array</a></li>
<li><a href="#åˆ†å‰²array"><span class="toc-section-number">3.5.2</span> åˆ†å‰²array</a></li>
</ul></li>
</ul></li>
<li><a href="#åœ¨numpy-arrayä¸Šè¿›è¡Œè¿ç®—"><span class="toc-section-number">4</span> åœ¨Numpy arrayä¸Šè¿›è¡Œè¿ç®—</a><ul>
<li><a href="#universal-functionsufuncs"><span class="toc-section-number">4.1</span> Universal Functions(UFuncs)</a></li>
<li><a href="#é¢å‘æ•°ç»„çš„ç¼–ç¨‹"><span class="toc-section-number">4.2</span> é¢å‘æ•°ç»„çš„ç¼–ç¨‹</a><ul>
<li><a href="#expressing-conditional-logic-as-array-operations"><span class="toc-section-number">4.2.1</span> Expressing Conditional Logic as Array Operations</a></li>
<li><a href="#numpyä¸­çš„æ•°å­¦å’Œç»Ÿè®¡æ–¹æ³•"><span class="toc-section-number">4.2.2</span> Numpyä¸­çš„æ•°å­¦å’Œç»Ÿè®¡æ–¹æ³•</a></li>
<li><a href="#æ’åºsorting"><span class="toc-section-number">4.2.3</span> æ’åº(sorting)</a></li>
<li><a href="#unique-and-other-set-logic"><span class="toc-section-number">4.2.4</span> Unique and Other Set Logic</a></li>
<li><a href="#arrayæ•°æ®çš„è¾“å…¥å’Œçš„è¾“å‡º"><span class="toc-section-number">4.2.5</span> arrayæ•°æ®çš„è¾“å…¥å’Œçš„è¾“å‡º</a></li>
</ul></li>
</ul></li>
</ul>
</div>

<div id="å®‰è£…" class="section level1">
<h1><span class="header-section-number">1</span> å®‰è£…</h1>
<p>åœ¨ç»ˆç«¯ä¸­è¾“å…¥:</p>
<pre><code>pip install numpy</code></pre>
<p>è°ƒç”¨numpy</p>
<pre class="python"><code>import numpy as np
np.__version__</code></pre>
<pre><code>## &#39;1.16.4&#39;</code></pre>
</div>
<div id="numpyä¸­çš„æ•°æ®æ ¼å¼" class="section level1">
<h1><span class="header-section-number">2</span> Numpyä¸­çš„æ•°æ®æ ¼å¼</h1>
<table>
<colgroup>
<col width="45%" />
<col width="54%" />
</colgroup>
<thead>
<tr class="header">
<th>Data type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>bool_ Boolean</td>
<td>(True or False) stored as a byte</td>
</tr>
<tr class="even">
<td>int_ Default</td>
<td>integer type (same as C long; normally either int64 or int32)</td>
</tr>
<tr class="odd">
<td>intc</td>
<td>Identical to C int (normally int32 or int64)</td>
</tr>
<tr class="even">
<td>intp</td>
<td>Integer used for indexing (same as C ssize_t; normally either int32 or int64)</td>
</tr>
<tr class="odd">
<td>int8</td>
<td>Byte (â€“128 to 127)</td>
</tr>
<tr class="even">
<td>int16</td>
<td>Integer (â€“32768 to 32767)</td>
</tr>
<tr class="odd">
<td>int32</td>
<td>Integer (â€“2147483648 to 2147483647)</td>
</tr>
<tr class="even">
<td>int64</td>
<td>Integer (â€“9223372036854775808 to 9223372036854775807)</td>
</tr>
<tr class="odd">
<td>uint8</td>
<td>Unsigned integer (0 to 255)</td>
</tr>
<tr class="even">
<td>uint16</td>
<td>Unsigned integer (0 to 65535)</td>
</tr>
<tr class="odd">
<td>uint32</td>
<td>Unsigned integer (0 to 4294967295)</td>
</tr>
<tr class="even">
<td>uint64</td>
<td>Unsigned integer (0 to 18446744073709551615)</td>
</tr>
<tr class="odd">
<td>float_</td>
<td>Shorthand for float64</td>
</tr>
<tr class="even">
<td>float16</td>
<td>Half-precision float: sign bit, 5 bits exponent, 10 bits mantissa</td>
</tr>
<tr class="odd">
<td>float32</td>
<td>Single-precision float: sign bit, 8 bits exponent, 23 bits mantissa</td>
</tr>
<tr class="even">
<td>float64</td>
<td>Double-precision float: sign bit, 11 bits exponent, 52 bits mantissa</td>
</tr>
<tr class="odd">
<td>complex_</td>
<td>Shorthand for complex128</td>
</tr>
<tr class="even">
<td>complex64</td>
<td>Complex number, represented by two 32-bit floats</td>
</tr>
<tr class="odd">
<td>complex128</td>
<td>Complex number, represented by two 64-bit floats</td>
</tr>
</tbody>
</table>
</div>
<div id="numpy-arrayåŸºç¡€" class="section level1">
<h1><span class="header-section-number">3</span> Numpy arrayåŸºç¡€</h1>
<div id="arrayçš„å±æ€§" class="section level2">
<h2><span class="header-section-number">3.1</span> Arrayçš„å±æ€§</h2>
<p>å…ˆç”Ÿæˆä¸‰ä¸ªä¸åŒçš„array,ä¸€ç»´,äºŒç»´å’Œä¸‰ç»´array.</p>
<pre class="python"><code>import numpy as np
np.random.seed(0)#è®¾ç½®seed,ä¿è¯é‡å¤æ€§

x1 = np.random.randint(10, size = 6)#ä¸€ç»´
x2 = np.random.randint(10, size = (3, 4))#äºŒç»´
x3 = np.random.randint(10, size = (3, 4, 5))#ä¸‰ç»´
x1</code></pre>
<pre><code>## array([5, 0, 3, 3, 7, 9])</code></pre>
<pre class="python"><code>x2</code></pre>
<pre><code>## array([[3, 5, 2, 4],
##        [7, 6, 8, 8],
##        [1, 6, 7, 7]])</code></pre>
<pre class="python"><code>x3</code></pre>
<pre><code>## array([[[8, 1, 5, 9, 8],
##         [9, 4, 3, 0, 3],
##         [5, 0, 2, 3, 8],
##         [1, 3, 3, 3, 7]],
## 
##        [[0, 1, 9, 9, 0],
##         [4, 7, 3, 2, 7],
##         [2, 0, 0, 4, 5],
##         [5, 6, 8, 4, 1]],
## 
##        [[4, 9, 8, 1, 1],
##         [7, 9, 9, 3, 6],
##         [7, 2, 0, 3, 5],
##         [9, 4, 4, 6, 4]]])</code></pre>
<p>æ¯ä¸€ä¸ªarrayéƒ½æœ‰<code>ndim</code>,<code>shape</code>å’Œ<code>size</code>å±æ€§.</p>
<pre class="python"><code>print(x1.ndim, x1.shape, x1.size)</code></pre>
<pre><code>## 1 (6,) 6</code></pre>
<pre class="python"><code>print(x2.ndim, x2.shape, x2.size)</code></pre>
<pre><code>## 2 (3, 4) 12</code></pre>
<pre class="python"><code>print(x3.ndim, x3.shape, x3.size)</code></pre>
<pre><code>## 3 (3, 4, 5) 60</code></pre>
<p>ä»ä¸Šé¢ä¾‹å­å¯ä»¥çœ‹å‡ºæ¥è¿™ä¸‰ä¸ªå±æ€§åˆ†åˆ«ä»£è¡¨ä»€ä¹ˆæ„æ€.</p>
<ul>
<li><p><code>ndim</code>å±æ€§:è¯¥æ•°æ®æ˜¯å‡ ç»´æ•°æ®.</p></li>
<li><p><code>shape</code>å±æ€§:è¯¥æ•°æ®æ¯ä¸ªç»´åº¦çš„å¤§å°,è¿™ä¸ªå¯ä»¥çœ‹ä½œæ˜¯Rä¸­çš„<code>dim()</code>å‡½æ•°å¾—åˆ°çš„å†…å®¹.</p></li>
<li><p><code>size</code>å±æ€§:è¯¥æ•°æ®çš„æ€»çš„cellæ•°ç›®.</p></li>
</ul>
<p><code>dtype</code>å±æ€§æ˜¯æŒ‡arrayçš„æ•°æ®ç±»å‹.</p>
<pre class="python"><code>print(x1.dtype, x2.dtype, x3.dtype)</code></pre>
<pre><code>## int32 int32 int32</code></pre>
</div>
<div id="arrayç´¢å¼•è·å¾—å…¶ä¸­å•ä¸ªå…ƒç´ " class="section level2">
<h2><span class="header-section-number">3.2</span> Arrayç´¢å¼•:è·å¾—å…¶ä¸­å•ä¸ªå…ƒç´ </h2>
<p>arrayçš„ç´¢å¼•è·Ÿpythonä¸­å†…ç½®çš„åˆ—è¡¨éå¸¸åƒ,å¯ä»¥ä½¿ç”¨ä½ç½®ç´¢å¼•,ä½†æ˜¯åŒæ ·æ³¨æ„ä»0å¼€å§‹ç®—èµ·.</p>
<pre class="python"><code>x1</code></pre>
<pre><code>## array([5, 0, 3, 3, 7, 9])</code></pre>
<pre class="python"><code>x1[0]</code></pre>
<pre><code>## 5</code></pre>
<pre class="python"><code>x1[-1]#å€’æ•°ç¬¬ä¸€ä¸ªå…ƒç´ </code></pre>
<pre><code>## 9</code></pre>
<p>å¯¹äºå¤šç»´,æ¯”å¦‚äºŒç»´array,åˆ™è·ŸRä¸­çš„æ•°æ®æ¡†ç±»ä¼¼,ä½¿ç”¨é€—å·åˆ†å¼€è¡Œå’Œåˆ—çš„ç´¢å¼•.</p>
<pre class="python"><code>x2</code></pre>
<pre><code>## array([[3, 5, 2, 4],
##        [7, 6, 8, 8],
##        [1, 6, 7, 7]])</code></pre>
<pre class="python"><code>x2[0,0]</code></pre>
<pre><code>## 3</code></pre>
<pre class="python"><code>x2[0,0] = 10
x2</code></pre>
<pre><code>## array([[10,  5,  2,  4],
##        [ 7,  6,  8,  8],
##        [ 1,  6,  7,  7]])</code></pre>
<pre class="python"><code>x2[0,0]</code></pre>
<pre><code>## 10</code></pre>
</div>
<div id="arrayåˆ‡ç‰‡è·å¾—ä¸€ä¸ªsubarray" class="section level2">
<h2><span class="header-section-number">3.3</span> Arrayåˆ‡ç‰‡:è·å¾—ä¸€ä¸ªsubarray</h2>
<p>ç±»ä¼¼äºåˆ—è¡¨,å¯ä»¥è¿™æ ·åˆ‡ç‰‡:</p>
<pre><code>list[startğŸ”šstep]</code></pre>
<p>éœ€è¦å¼ºè°ƒä¸€æ¬¡å†,å–å‡ºçš„subarrayä¸åŒ…æ‹¬end.</p>
<div id="ä¸€ç»´array" class="section level3">
<h3><span class="header-section-number">3.3.1</span> ä¸€ç»´array</h3>
<pre class="python"><code>x = np.arange(10)
x</code></pre>
<pre><code>## array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</code></pre>
<pre class="python"><code>x[:5]#å‰äº”ä¸ªå…ƒç´ </code></pre>
<pre><code>## array([0, 1, 2, 3, 4])</code></pre>
<pre class="python"><code>x[4:7]#å‰äº”ä¸ªå…ƒç´ </code></pre>
<pre><code>## array([4, 5, 6])</code></pre>
<pre class="python"><code>x[::2]#å‰äº”ä¸ªå…ƒç´ </code></pre>
<pre><code>## array([0, 2, 4, 6, 8])</code></pre>
<pre class="python"><code>x[::-1]#å°†arrayåå‘æ’åˆ—</code></pre>
<pre><code>## array([9, 8, 7, 6, 5, 4, 3, 2, 1, 0])</code></pre>
</div>
<div id="å¤šç»´array" class="section level3">
<h3><span class="header-section-number">3.3.2</span> å¤šç»´array</h3>
<p>å¤šç»´æ•°ç»„è·Ÿä¸€è‡´æ•°ç»„ä¸€æ ·,åªæ˜¯éœ€è¦ä½¿ç”¨é€—å·æŠŠä¸åŒç»´åº¦çš„åˆ‡ç‰‡åˆ†å¼€å³å¯.</p>
<pre><code>array[startğŸ”šstep,start:end;step]</code></pre>
<pre class="python"><code>x2</code></pre>
<pre><code>## array([[10,  5,  2,  4],
##        [ 7,  6,  8,  8],
##        [ 1,  6,  7,  7]])</code></pre>
<pre class="python"><code>x2[1:3, 1:3]</code></pre>
<pre><code>## array([[6, 8],
##        [6, 7]])</code></pre>
<pre class="python"><code>x2[::-1, ::-1]</code></pre>
<pre><code>## array([[ 7,  7,  6,  1],
##        [ 8,  8,  6,  7],
##        [ 4,  2,  5, 10]])</code></pre>
<p>å¦‚æœå¯¹äºè¡Œæˆ–è€…åˆ—åªå–å‡ºä¸€ä¸ª,ä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µå‘¢?</p>
<pre class="python"><code>x2</code></pre>
<pre><code>## array([[10,  5,  2,  4],
##        [ 7,  6,  8,  8],
##        [ 1,  6,  7,  7]])</code></pre>
<pre class="python"><code>x2[1:3, 0]</code></pre>
<pre><code>## array([7, 1])</code></pre>
<pre class="python"><code>x2[1:3, 0].ndim</code></pre>
<pre><code>## 1</code></pre>
<p>å¯ä»¥çœ‹åˆ°,é™ç»´äº†.</p>
<p><img src="array_slicing.png" /></p>
</div>
</div>
<div id="é‡å¡‘arrayçš„å½¢çŠ¶" class="section level2">
<h2><span class="header-section-number">3.4</span> é‡å¡‘arrayçš„å½¢çŠ¶</h2>
<p>arrayçš„å½¢çŠ¶,ä¸Šé¢ç®€å•ä»‹ç»äº†,æŒ‡çš„å°±æ˜¯æ•°ç»„çš„å„ä¸ªç»´åº¦çš„å¤§å°.æ¯”è¾ƒå¸¸ç”¨çš„æ˜¯<code>reshape</code>æ–¹æ³•.</p>
<pre class="python"><code>grid = np.arange(1, 10)
grid</code></pre>
<pre><code>## array([1, 2, 3, 4, 5, 6, 7, 8, 9])</code></pre>
<pre class="python"><code>grid.reshape((3,3))</code></pre>
<pre><code>## array([[1, 2, 3],
##        [4, 5, 6],
##        [7, 8, 9]])</code></pre>
</div>
<div id="arrayçš„åˆå¹¶å’Œåˆ†è£‚concatenation-and-splitting" class="section level2">
<h2><span class="header-section-number">3.5</span> Arrayçš„åˆå¹¶å’Œåˆ†è£‚(Concatenation and Splitting)</h2>
<div id="åˆå¹¶array" class="section level3">
<h3><span class="header-section-number">3.5.1</span> åˆå¹¶array</h3>
<p>å°†ä¸¤ä¸ªarrayåˆå¹¶ä¸ºä¸€ä¸ªarray,å¯ä»¥ä½¿ç”¨å‡½æ•°<code>concatenate</code>,æ˜¯<code>numpy</code>ä¸­çš„å‡½æ•°.</p>
<pre class="python"><code>x = np.array([1, 2, 3])
y = np.array([3, 2, 1])
z = [99, 99, 99]
np.concatenate([x, y, z])</code></pre>
<pre><code>## array([ 1,  2,  3,  3,  2,  1, 99, 99, 99])</code></pre>
<p>å¯ä»¥çœ‹åˆ°,éœ€è¦å°†arrayæ”¾åœ¨ä¸€ä¸ª<code>list</code>(ä¸­æ‹¬å·)ä¸­.</p>
<p>è¿˜å¯ä»¥ç”¨äºäºŒç»´arrayçš„åˆå¹¶.</p>
<pre class="python"><code>grid = np.array([[1, 2, 3],
[4, 5, 6]])
grid</code></pre>
<pre><code>## array([[1, 2, 3],
##        [4, 5, 6]])</code></pre>
<pre class="python"><code>np.concatenate([grid, grid])</code></pre>
<pre><code>## array([[1, 2, 3],
##        [4, 5, 6],
##        [1, 2, 3],
##        [4, 5, 6]])</code></pre>
<p>å¯ä»¥çœ‹åˆ°,è¿™æ ·ç±»ä¼¼äºRä¸­çš„æ•°æ®åº“çš„<code>rbind</code>åŠŸèƒ½,å°†arrayæŒ‰ç…§åˆ—è¿›è¡Œåˆå¹¶.</p>
<p>é‚£ä¹ˆå¦‚ä½•å®ç°<code>cbind</code>æ•ˆæœå‘¢?</p>
<pre class="python"><code>np.concatenate([grid, grid], axis=1)</code></pre>
<pre><code>## array([[1, 2, 3, 1, 2, 3],
##        [4, 5, 6, 4, 5, 6]])</code></pre>
<p>å…¶å®è¿˜å¯ä»¥ä½¿ç”¨æ›´ä¸ºå½¢è±¡çš„å‡½æ•°,<code>np.vstack</code>(ç›¸å½“äºRä¸­çš„<code>rbind</code>),å’Œ<code>np.hstack</code>(ç›¸å½“äºRä¸­çš„<code>cbind</code>).</p>
<pre class="python"><code>x = np.array([1, 2, 3])
grid = np.array([[9, 8, 7],
[6, 5, 4]])
np.vstack([x, grid])</code></pre>
<pre><code>## array([[1, 2, 3],
##        [9, 8, 7],
##        [6, 5, 4]])</code></pre>
<pre class="python"><code>y = np.array([[99],
[99]])
np.hstack([grid, y])</code></pre>
<pre><code>## array([[ 9,  8,  7, 99],
##        [ 6,  5,  4, 99]])</code></pre>
</div>
<div id="åˆ†å‰²array" class="section level3">
<h3><span class="header-section-number">3.5.2</span> åˆ†å‰²array</h3>
<p>åˆ†å‰²arrayæœ‰å‡ ä¸ªå‡½æ•°.</p>
<p><code>np.split</code>,<code>np.hsplit</code>,å’Œ<code>np.vsplit</code>.çœ‹å‡ ä¸ªä¾‹å­å°±æ˜ç™½äº†.</p>
<pre class="python"><code>x = [1, 2, 3, 99, 99, 3, 2, 1]
x</code></pre>
<pre><code>## [1, 2, 3, 99, 99, 3, 2, 1]</code></pre>
<pre class="python"><code>x1, x2, x3 = np.split(x, [3, 5])
x1</code></pre>
<pre><code>## array([1, 2, 3])</code></pre>
<pre class="python"><code>x2</code></pre>
<pre><code>## array([99, 99])</code></pre>
<pre class="python"><code>x3</code></pre>
<pre><code>## array([3, 2, 1])</code></pre>
<p>å¯¹äºå‡½æ•°<code>split</code>,ç¬¬ä¸€å‚æ•°æ˜¯è¦åˆ†å‰²çš„åˆ—è¡¨,ç¬¬äºŒä¸ªå‚æ•°éœ€è¦æ˜¯ä¸€ä¸ªlist,ä»£è¡¨ä»å“ªåˆ†å‰²,æ¯”å¦‚è¿™é‡Œé¢çš„<code>[3,5]</code>,å°±ä»£è¡¨ç€å°†åˆ—è¡¨åˆ†å‰²ä¸ºä¸‰æ®µ,åˆ†åˆ«æ˜¯[:3],[3:5],[5:].</p>
<p>åŒæ ·å¯¹äº<code>hsplit</code>å’Œ<code>vsplit</code>ä¹Ÿå°±æ¯”è¾ƒå¥½ç†è§£äº†,åˆ†åˆ«æ˜¯å¯¹å¤šç»´arrayè¿›è¡Œå‚ç›´å’Œæ°´å¹³åˆ‡å‰².</p>
<pre class="python"><code>grid = np.arange(16).reshape((4, 4))
grid</code></pre>
<pre><code>## array([[ 0,  1,  2,  3],
##        [ 4,  5,  6,  7],
##        [ 8,  9, 10, 11],
##        [12, 13, 14, 15]])</code></pre>
<pre class="python"><code>upper, lower = np.vsplit(grid, [2])
print(upper)</code></pre>
<pre><code>## [[0 1 2 3]
##  [4 5 6 7]]</code></pre>
<pre class="python"><code>print(lower)</code></pre>
<pre><code>## [[ 8  9 10 11]
##  [12 13 14 15]]</code></pre>
<pre class="python"><code>left, right = np.hsplit(grid, [2])
print(left)</code></pre>
<pre><code>## [[ 0  1]
##  [ 4  5]
##  [ 8  9]
##  [12 13]]</code></pre>
<pre class="python"><code>print(right)</code></pre>
<pre><code>## [[ 2  3]
##  [ 6  7]
##  [10 11]
##  [14 15]]</code></pre>
</div>
</div>
</div>
<div id="åœ¨numpy-arrayä¸Šè¿›è¡Œè¿ç®—" class="section level1">
<h1><span class="header-section-number">4</span> åœ¨Numpy arrayä¸Šè¿›è¡Œè¿ç®—</h1>
<p>å¯¹arrayè¿›è¡Œè¿ç®—æœ‰ä¸€ç‚¹éå¸¸é‡è¦,å°±æ˜¯è¿›è¡Œå‘é‡åŒ–æ“ä½œ(vectorized operations),è·ŸRä¸€æ ·.è¿™æ ·çš„å¥½å¤„æ—¶å¯ä»¥æé«˜è¿ç®—é€Ÿåº¦.</p>
<div id="universal-functionsufuncs" class="section level2">
<h2><span class="header-section-number">4.1</span> Universal Functions(UFuncs)</h2>
<p>ä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­,ç»™å®šä¸€ç»„æ•°,è®¡ç®—æ¯ä¸ªæ•°çš„å€’æ•°.å¦‚æœç”¨ä»¥å‰çš„æ€ç»´,é‚£ä¹ˆåº”è¯¥å¯¹æ¯ä¸€ä¸ªæ•°åˆ†åˆ«è®¡ç®—å€’æ•°,ç„¶åå¾ªç¯.ä½†æ˜¯å…¶å®å¤§å¯ä¸å¿….</p>
<pre class="python"><code>import numpy as np
values = np.arange(1,10)
values</code></pre>
<pre><code>## array([1, 2, 3, 4, 5, 6, 7, 8, 9])</code></pre>
<pre class="python"><code>1/values</code></pre>
<pre><code>## array([1.        , 0.5       , 0.33333333, 0.25      , 0.2       ,
##        0.16666667, 0.14285714, 0.125     , 0.11111111])</code></pre>
<p>è¿™åœ¨Rä¸­çš„åŸºç¡€æ•°æ®æ ¼å¼,å‘é‡ä¸­å°±å¯ä»¥è¿è¡Œçš„,ä½†æ˜¯å¯¹pythonçš„åŸºç¡€æ•°æ®æ ¼å¼,åˆ—è¡¨å’Œtupleæ˜¯ä¸å¯ä»¥çš„.</p>
<pre class="python"><code>list(range(1,10))
# 1/list(range(1,10))</code></pre>
<pre><code>## [1, 2, 3, 4, 5, 6, 7, 8, 9]</code></pre>
<p>ä¹Ÿå°±æ˜¯è¯´åˆ—è¡¨æ˜¯ä¸æ”¯æŒå‘é‡åŒ–æ“ä½œçš„,åªæœ‰åœ¨numpyçš„arrayä¸Šæ‰å¯ä»¥.</p>
<p>æ‰€ä»¥,å¯ä»¥å°†numpyä¸­çš„ä¸€ç»´arrayæƒ³è±¡æˆæ˜¯Rä¸­çš„å‘é‡,è¿™æ ·å°±å¥½è®°ä½å¤šäº†.</p>
<p>é‚£ä¹ˆ,åŒæ ·çš„,ä¸¤ä¸ªä¸€ç»´arrayä¹Ÿå¯ä»¥åƒRå‘é‡ä¸€æ ·,åšå‘é‡åŒ–çš„æ“ä½œ.æ¯”å¦‚+,Ã·ç­‰.ä½†æ˜¯ä¸¤ä¸ªarrayçš„é•¿åº¦å¿…é¡»ç›¸ç­‰,å¦åˆ™æŠ¥é”™.</p>
<pre class="python"><code>np.arange(1,10)/np.arange(2,11)</code></pre>
<pre><code>## array([0.5       , 0.66666667, 0.75      , 0.8       , 0.83333333,
##        0.85714286, 0.875     , 0.88888889, 0.9       ])</code></pre>
<pre class="python"><code>np.arange(1,10) + np.arange(2,11)</code></pre>
<pre><code>## array([ 3,  5,  7,  9, 11, 13, 15, 17, 19])</code></pre>
<pre class="python"><code>np.arange(1,10) - np.arange(2,11)</code></pre>
<pre><code>## array([-1, -1, -1, -1, -1, -1, -1, -1, -1])</code></pre>
<p>å½“ç„¶,å‘é‡åŒ–çš„æ“ä½œå¹¶ä¸å±€é™äºä¸€ç»´çš„array,å¯¹äºäºŒç»´çš„arrayåŒæ ·é€‚ç”¨,åªè¦å°†å…¶å¯¹æ¯”ä¸ºRä¸­çš„æ•°æ®æ¡†å³å¯.å½“ç„¶,ä¹Ÿå¯ä»¥äºŒç»´å’Œä¸€ç»´æ“ä½œ,è¿™æ—¶å€™æ˜¯æŒ‰ç…§æ¯è¡Œéƒ½å¯¹åŒä¸€ä¸ªä¸€ç»´arrayåˆ†åˆ«æ“ä½œè¿›è¡Œçš„.</p>
<pre class="python"><code>test = np.arange(1,10)
test = test.reshape((3,3))
test2 = np.arange(2,11).reshape((3,3)) 
test3 = np.array([1,2,3])
test</code></pre>
<pre><code>## array([[1, 2, 3],
##        [4, 5, 6],
##        [7, 8, 9]])</code></pre>
<pre class="python"><code>test2</code></pre>
<pre><code>## array([[ 2,  3,  4],
##        [ 5,  6,  7],
##        [ 8,  9, 10]])</code></pre>
<pre class="python"><code>test3</code></pre>
<pre><code>## array([1, 2, 3])</code></pre>
<pre class="python"><code>test + test2</code></pre>
<pre><code>## array([[ 3,  5,  7],
##        [ 9, 11, 13],
##        [15, 17, 19]])</code></pre>
<pre class="python"><code>test/test2</code></pre>
<pre><code>## array([[0.5       , 0.66666667, 0.75      ],
##        [0.8       , 0.83333333, 0.85714286],
##        [0.875     , 0.88888889, 0.9       ]])</code></pre>
<pre class="python"><code>test/test3</code></pre>
<pre><code>## array([[1. , 1. , 1. ],
##        [4. , 2.5, 2. ],
##        [7. , 4. , 3. ]])</code></pre>
<p>å†æ¥çœ‹ä¸€ä¸ªä¾‹å­:</p>
<pre class="python"><code>import numpy as np
x = np.random.randn(8)
y = np.random.randn(8)
x</code></pre>
<pre><code>## array([ 1.25441407,  1.41910204, -0.74385608, -2.5174371 , -1.50709602,
##         1.14907613, -1.19357825,  1.14104245])</code></pre>
<pre class="python"><code>y</code></pre>
<pre><code>## array([ 1.50944508,  1.06777513, -0.68658948,  0.01487332, -0.3756659 ,
##        -0.03822364,  0.36797447, -0.0447237 ])</code></pre>
<pre class="python"><code>np.maximum(x, y)</code></pre>
<pre><code>## array([ 1.50944508,  1.41910204, -0.68658948,  0.01487332, -0.3756659 ,
##         1.14907613,  0.36797447,  1.14104245])</code></pre>
<p>å¯ä»¥çœ‹åˆ°,<code>np.maximum()</code>å‡½æ•°å¯¹ä¸¤ä¸ªarrayçš„åŒä¸€ä½ç½®ä¸Šçš„æ•°å–æœ€å¤§å€¼,è¿”å›ä¸è¾“å…¥arrayé•¿åº¦ç›¸åŒçš„array.</p>
<p>å¦‚æœä¸¤ä¸ªarrayé•¿åº¦ä¸åŒ,åˆ™æŠ¥é”™.</p>
<p>å¸¸è§çš„æ¥å—ä¸€ä¸ªarrayçš„ufuncs:</p>
<table>
<colgroup>
<col width="44%" />
<col width="55%" />
</colgroup>
<thead>
<tr class="header">
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>abs</code>,<code>fabs</code></td>
<td>Compute the absolute value element-wise for integer, floating-point, or complex values</td>
</tr>
<tr class="even">
<td><code>sqrt</code></td>
<td>Compute the square root of each element (equivalent to arr ** 0.5)</td>
</tr>
<tr class="odd">
<td><code>square</code></td>
<td>Compute the square of each element (equivalent to arr ** 2)</td>
</tr>
<tr class="even">
<td><code>exp</code></td>
<td>Compute the exponent ex of each element</td>
</tr>
<tr class="odd">
<td><code>log, log10, log2, log1p</code></td>
<td>Natural logarithm (base e), log base 10, log base 2, and log(1 + x), respectively</td>
</tr>
<tr class="even">
<td><code>sign</code></td>
<td>Compute the sign of each element: 1 (positive), 0 (zero), or â€“1 (negative)</td>
</tr>
<tr class="odd">
<td><code>ceil</code></td>
<td>Compute the ceiling of each element (i.e., the smallest integer greater than or equal to that</td>
</tr>
</tbody>
</table>
<p>number)
<code>floor</code> | Compute the floor of each element (i.e., the largest integer less than or equal to each element)
<code>rint</code> | Round elements to the nearest integer, preserving the dtype
<code>modf</code> | Return fractional and integral parts of array as a separate array
<code>isnan</code> | Return boolean array indicating whether each value is NaN (Not a Number)
<code>isfinite, isinf</code> | Return boolean array indicating whether each element is finite (non-inf, non-NaN) or infinite,
respectively
<code>cos</code>, <code>cosh</code>,<code>sin</code>,<code>sinh</code>,<code>tan</code>,<code>tanh</code> | Regular and hyperbolic trigonometric functions
<code>arccos</code>, <code>arccosh</code>, <code>arcsin</code>, <code>arcsinh</code>, <code>arctan</code>, <code>arctanh</code> | Inverse trigonometric functions logical_not Compute truth value of not x element-wise (equivalent to ~arr).</p>
<p>å¸¸è§çš„æ¥å—ä¸¤ä¸ªarrayçš„ufuncs:</p>
<table>
<thead>
<tr class="header">
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>add</code></td>
<td>Add corresponding elements in arrays</td>
</tr>
<tr class="even">
<td><code>subtract</code></td>
<td>Subtract elements in second array from first array</td>
</tr>
<tr class="odd">
<td><code>multiply</code></td>
<td>Multiply array elements</td>
</tr>
<tr class="even">
<td><code>divide</code>, <code>floor_divide</code></td>
<td>Divide or floor divide (truncating the remainder)</td>
</tr>
<tr class="odd">
<td><code>power</code></td>
<td>Raise elements in first array to powers indicated in second array</td>
</tr>
<tr class="even">
<td><code>maximum</code>, <code>fmax</code></td>
<td>Element-wise maximum; fmax ignores NaN</td>
</tr>
<tr class="odd">
<td><code>minimum</code>, <code>fmin</code></td>
<td>Element-wise minimum; fmin ignores NaN</td>
</tr>
<tr class="even">
<td><code>mod</code></td>
<td>Element-wise modulus (remainder of division)</td>
</tr>
</tbody>
</table>
<p><code>copysign</code> Copy sign of values in second argument to values in first argument
<code>greater</code>, <code>greater_equal</code>, <code>less</code>, <code>less_equal</code>, <code>equal</code>, <code>not_equal</code> | Perform element-wise comparison, yielding boolean array (equivalent to infix operators &gt;, &gt;=, &lt;, &lt;=, ==, !=)
<code>logical_and</code>, <code>logical_or</code>, <code>logical_xor</code> | Compute element-wise truth value of logical operation (equivalent to infix operators &amp; |, ^)</p>
</div>
<div id="é¢å‘æ•°ç»„çš„ç¼–ç¨‹" class="section level2">
<h2><span class="header-section-number">4.2</span> é¢å‘æ•°ç»„çš„ç¼–ç¨‹</h2>
<p>ä¸€èˆ¬æ¥è¯´,ä½¿ç”¨å‘é‡åŒ–æ“ä½œ,ä¼šæ¯”loopå¾ªç¯è‡³å°‘å¿«ä¸Šä¸€ä¸ªæ•°é‡çº§.</p>
<div id="expressing-conditional-logic-as-array-operations" class="section level3">
<h3><span class="header-section-number">4.2.1</span> Expressing Conditional Logic as Array Operations</h3>
<pre class="python"><code>import numpy as np
xarr = np.array([1.1, 1.2, 1.3, 1.4, 1.5])
yarr = np.array([2.1, 2.2, 2.3, 2.4, 2.5])
cond = np.array([True, False, True, True, False])
result = [(x if c else y) for x, y, c in zip(xarr, yarr, cond)]
result</code></pre>
<pre><code>## [1.1, 2.2, 1.3, 1.4, 2.5]</code></pre>
<p>è¿™ç§åŠæ³•é—®é¢˜å¾ˆå¤š.æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>np.where()</code>å‡½æ•°æ¥åš.</p>
<pre class="python"><code>result = np.where(cond, xarr, yarr)
result</code></pre>
<pre><code>## array([1.1, 2.2, 1.3, 1.4, 2.5])</code></pre>
<pre class="python"><code>arr = np.random.randn(4, 4)
arr</code></pre>
<pre><code>## array([[-0.30237513, -2.2244036 ,  0.72400636,  0.35900276],
##        [ 1.07612104,  0.19214083,  0.85292596,  0.01835718],
##        [ 0.42830357,  0.99627783, -0.49114966,  0.71267817],
##        [ 1.11334035, -2.15367459, -0.41611148, -1.07089699]])</code></pre>
<pre class="python"><code>arr &gt; 0</code></pre>
<pre><code>## array([[False, False,  True,  True],
##        [ True,  True,  True,  True],
##        [ True,  True, False,  True],
##        [ True, False, False, False]])</code></pre>
<pre class="python"><code>np.where(arr &gt; 2, 2, -2)</code></pre>
<pre><code>## array([[-2, -2, -2, -2],
##        [-2, -2, -2, -2],
##        [-2, -2, -2, -2],
##        [-2, -2, -2, -2]])</code></pre>
<pre class="python"><code>np.where(arr &gt; 0, 2, arr)</code></pre>
<pre><code>## array([[-0.30237513, -2.2244036 ,  2.        ,  2.        ],
##        [ 2.        ,  2.        ,  2.        ,  2.        ],
##        [ 2.        ,  2.        , -0.49114966,  2.        ],
##        [ 2.        , -2.15367459, -0.41611148, -1.07089699]])</code></pre>
<p><code>np.random.randn()</code>å‡½æ•°ç”¨æ¥éšæœºäº§ç”ŸäºŒç»´çš„array.</p>
</div>
<div id="numpyä¸­çš„æ•°å­¦å’Œç»Ÿè®¡æ–¹æ³•" class="section level3">
<h3><span class="header-section-number">4.2.2</span> Numpyä¸­çš„æ•°å­¦å’Œç»Ÿè®¡æ–¹æ³•</h3>
<p>éšæœºäº§ç”Ÿæ­£æ€åˆ†å¸ƒæ•°æ®.</p>
<pre class="python"><code>arr = np.random.randn(5, 4)
arr</code></pre>
<pre><code>## array([[ 0.22113881, -1.12305712, -1.05075796,  1.01207905],
##        [ 1.54371643, -0.40211489,  0.8647491 , -0.22686923],
##        [ 0.81116027,  0.28779461, -0.53846816,  1.9084621 ],
##        [-0.475776  ,  1.44073112, -1.14907568,  0.80571455],
##        [ 1.75610703,  0.97297991, -1.55111911,  0.19114348]])</code></pre>
<pre class="python"><code>arr.mean()</code></pre>
<pre><code>## 0.2649269161929305</code></pre>
<pre class="python"><code>np.mean(arr)</code></pre>
<pre><code>## 0.2649269161929305</code></pre>
<pre class="python"><code>arr.max()</code></pre>
<pre><code>## 1.9084621003056945</code></pre>
<pre class="python"><code>np.max(arr)</code></pre>
<pre><code>## 1.9084621003056945</code></pre>
<pre class="python"><code>arr.min()</code></pre>
<pre><code>## -1.5511191116398637</code></pre>
<pre class="python"><code>np.min(arr)</code></pre>
<pre><code>## -1.5511191116398637</code></pre>
<pre class="python"><code>arr.sum()</code></pre>
<pre><code>## 5.298538323858611</code></pre>
<pre class="python"><code>np.sum(arr)</code></pre>
<pre><code>## 5.298538323858611</code></pre>
<p>å¯¹äºè¿™äº›æ–¹æ³•,éƒ½æœ‰ä¸€ä¸ªå‚æ•°,<code>axis</code>,ç”¨æ¥æŒ‡ç¤ºæ˜¯å¦æŒ‰è¡Œæˆ–è€…æŒ‰åˆ—è¿›è¡Œè®¡ç®—.0ä»£è¡¨æŒ‰è¡Œ,1ä»£è¡¨æŒ‰åˆ—.</p>
<pre class="python"><code>arr.mean(axis=0)</code></pre>
<pre><code>## array([ 0.77126931,  0.23526673, -0.68493436,  0.73810599])</code></pre>
<pre class="python"><code>arr.mean(axis=1)</code></pre>
<pre><code>## array([-0.2351493 ,  0.44487035,  0.61723721,  0.1553985 ,  0.34227783])</code></pre>
<pre class="python"><code>arr = np.array([0, 1, 2, 3, 4, 5, 6, 7])
arr</code></pre>
<pre><code>## array([0, 1, 2, 3, 4, 5, 6, 7])</code></pre>
<pre class="python"><code>arr.cumsum()#ç´¯ä¹˜</code></pre>
<pre><code>## array([ 0,  1,  3,  6, 10, 15, 21, 28], dtype=int32)</code></pre>
<pre class="python"><code>arr = np.array([[0, 1, 2], [3, 4, 5], [6, 7, 8]])
arr</code></pre>
<pre><code>## array([[0, 1, 2],
##        [3, 4, 5],
##        [6, 7, 8]])</code></pre>
<pre class="python"><code>arr.cumsum(axis=0)</code></pre>
<pre><code>## array([[ 0,  1,  2],
##        [ 3,  5,  7],
##        [ 9, 12, 15]], dtype=int32)</code></pre>
<pre class="python"><code>arr.cumsum(axis=1)</code></pre>
<pre><code>## array([[ 0,  1,  3],
##        [ 3,  7, 12],
##        [ 6, 13, 21]], dtype=int32)</code></pre>
<p>arrayå¸¸ç”¨ç»Ÿè®¡æ–¹æ³•æ€»ç»“</p>
<table>
<colgroup>
<col width="46%" />
<col width="53%" />
</colgroup>
<thead>
<tr class="header">
<th>Method</th>
<th>meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>sum</code></td>
<td>Sum of all the elements in the array or along an axis; zero-length arrays have sum 0</td>
</tr>
<tr class="even">
<td><code>mean</code></td>
<td>Arithmetic mean; zero-length arrays have NaN mean</td>
</tr>
<tr class="odd">
<td><code>std</code>, <code>var</code></td>
<td>Standard deviation and variance, respectively, with optional degrees of freedom adjustment (default</td>
</tr>
</tbody>
</table>
<p>denominator n)
<code>min</code>, <code>max</code> | Minimum and maximum
<code>argmin</code>, <code>argmax</code> | Indices of minimum and maximum elements, respectively
<code>cumsum</code> | Cumulative sum of elements starting from 0
<code>cumprod</code> | Cumulative product of elements starting from 1</p>
</div>
<div id="æ’åºsorting" class="section level3">
<h3><span class="header-section-number">4.2.3</span> æ’åº(sorting)</h3>
<p>ä½¿ç”¨<code>sort</code>æ–¹æ³•æ¥å¯¹arrayè¿›è¡Œæ’åº.</p>
<pre class="python"><code>arr = np.random.randn(6)
arr</code></pre>
<pre><code>## array([ 1.60477607, -1.42002593, -2.44378268, -2.05633855, -0.99225755,
##         1.01128532])</code></pre>
<pre class="python"><code>arr.sort()
arr</code></pre>
<pre><code>## array([-2.44378268, -2.05633855, -1.42002593, -0.99225755,  1.01128532,
##         1.60477607])</code></pre>
<pre class="python"><code>arr = np.random.randn(5, 3)
arr</code></pre>
<pre><code>## array([[ 1.40044008, -0.65499168, -0.25579069],
##        [-0.71438561, -0.50083877,  0.05564534],
##        [-0.48896178, -0.37992245,  0.25973465],
##        [-1.68134864, -0.91679481, -0.1192241 ],
##        [-0.44627728, -2.14335544,  0.01003777]])</code></pre>
<pre class="python"><code>arr.sort(axis=0)
arr.sort(axis=1)</code></pre>
</div>
<div id="unique-and-other-set-logic" class="section level3">
<h3><span class="header-section-number">4.2.4</span> Unique and Other Set Logic</h3>
<pre class="python"><code>names = np.array([&#39;Bob&#39;, &#39;Joe&#39;, &#39;Will&#39;, &#39;Bob&#39;, &#39;Will&#39;, &#39;Joe&#39;, &#39;Joe&#39;])
names</code></pre>
<pre><code>## array([&#39;Bob&#39;, &#39;Joe&#39;, &#39;Will&#39;, &#39;Bob&#39;, &#39;Will&#39;, &#39;Joe&#39;, &#39;Joe&#39;], dtype=&#39;&lt;U4&#39;)</code></pre>
<pre class="python"><code>np.unique(names)</code></pre>
<pre><code>## array([&#39;Bob&#39;, &#39;Joe&#39;, &#39;Will&#39;], dtype=&#39;&lt;U4&#39;)</code></pre>
<pre class="python"><code>sorted(names)</code></pre>
<pre><code>## [&#39;Bob&#39;, &#39;Bob&#39;, &#39;Joe&#39;, &#39;Joe&#39;, &#39;Joe&#39;, &#39;Will&#39;, &#39;Will&#39;]</code></pre>
<pre class="python"><code>sorted(set(names))</code></pre>
<pre><code>## [&#39;Bob&#39;, &#39;Joe&#39;, &#39;Will&#39;]</code></pre>
<p>æ€»ç»“</p>
<table>
<colgroup>
<col width="55%" />
<col width="44%" />
</colgroup>
<thead>
<tr class="header">
<th>Functions</th>
<th>meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>unique(x)</code></td>
<td>Compute the sorted, unique elements in x</td>
</tr>
<tr class="even">
<td><code>intersect1d(x, y)</code></td>
<td>Compute the sorted, common elements in x and y</td>
</tr>
<tr class="odd">
<td><code>union1d(x, y)</code></td>
<td>Compute the sorted union of elements</td>
</tr>
<tr class="even">
<td><code>in1d(x, y)</code></td>
<td>Compute a boolean array indicating whether each element of x is contained in y</td>
</tr>
<tr class="odd">
<td><code>setdiff1d(x, y)</code></td>
<td>Set difference, elements in x that are not in y</td>
</tr>
<tr class="even">
<td><code>setxor1d(x, y)</code></td>
<td>Set symmetric differences; elements that are in either of the arrays, but not both</td>
</tr>
</tbody>
</table>
</div>
<div id="arrayæ•°æ®çš„è¾“å…¥å’Œçš„è¾“å‡º" class="section level3">
<h3><span class="header-section-number">4.2.5</span> arrayæ•°æ®çš„è¾“å…¥å’Œçš„è¾“å‡º</h3>
<p>è·ŸRçš„<code>save</code>å’Œ<code>load</code>æ¯”è¾ƒåƒ.</p>
<pre class="python"><code>arr = np.arange(10)
arr</code></pre>
<pre><code>## array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</code></pre>
<pre class="python"><code>np.save(file=&#39;some_array&#39;, arr=arr)</code></pre>
<p>é»˜è®¤çš„åç¼€æ°‘ä¸º<code>.npy</code>.ç„¶åå¯ä»¥ä½¿ç”¨<code>np.load()</code>å‡½æ•°load.</p>
<pre class="python"><code>np.load(&#39;some_array.npy&#39;)</code></pre>
<pre><code>## array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</code></pre>
</div>
</div>
</div>

    </div>

    





<div class="article-tags">
  
  <a class="badge badge-light" href="/tag/blog/">Blog</a>
  
  <a class="badge badge-light" href="/tag/chinese/">Chinese</a>
  
</div>



<div class="share-box">
  <ul class="share">
    
      
      
      
        
      
      
      
      
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fjaspershen.github.io%2Fpost%2F2019-11-24-python-numpy-summary%2F&amp;text=Python&#43;NumPy%E5%8C%85%E6%80%BB%E7%BB%93" target="_blank" rel="noopener" class="share-btn-twitter" aria-label="twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Fjaspershen.github.io%2Fpost%2F2019-11-24-python-numpy-summary%2F&amp;t=Python&#43;NumPy%E5%8C%85%E6%80%BB%E7%BB%93" target="_blank" rel="noopener" class="share-btn-facebook" aria-label="facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      
      
      
      
        
      
      <li>
        <a href="mailto:?subject=Python%20NumPy%E5%8C%85%E6%80%BB%E7%BB%93&amp;body=https%3A%2F%2Fjaspershen.github.io%2Fpost%2F2019-11-24-python-numpy-summary%2F" target="_blank" rel="noopener" class="share-btn-email" aria-label="envelope">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=https%3A%2F%2Fjaspershen.github.io%2Fpost%2F2019-11-24-python-numpy-summary%2F&amp;title=Python&#43;NumPy%E5%8C%85%E6%80%BB%E7%BB%93" target="_blank" rel="noopener" class="share-btn-linkedin" aria-label="linkedin-in">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      
      
      
      
      <li>
        <a href="whatsapp://send?text=Python&#43;NumPy%E5%8C%85%E6%80%BB%E7%BB%93%20https%3A%2F%2Fjaspershen.github.io%2Fpost%2F2019-11-24-python-numpy-summary%2F" target="_blank" rel="noopener" class="share-btn-whatsapp" aria-label="whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      
      
      
      
      <li>
        <a href="https://service.weibo.com/share/share.php?url=https%3A%2F%2Fjaspershen.github.io%2Fpost%2F2019-11-24-python-numpy-summary%2F&amp;title=Python&#43;NumPy%E5%8C%85%E6%80%BB%E7%BB%93" target="_blank" rel="noopener" class="share-btn-weibo" aria-label="weibo">
          <i class="fab fa-weibo"></i>
        </a>
      </li>
    
  </ul>
</div>











  
  



  
  
  
    
  
  
  
  <div class="media author-card content-widget-hr">
    
      
      <a href="https://jaspershen.github.io/"><img class="avatar mr-3 avatar-circle" src="/authors/admin/avatar_hu86242519a21313948ac7dc77e0a27da6_1568301_270x270_fill_q75_lanczos_center.jpg" alt="Xiaotao Shen"></a>
    

    <div class="media-body">
      <h5 class="card-title"><a href="https://jaspershen.github.io/">Xiaotao Shen</a></h5>
      <h6 class="card-subtitle">Postdoctoral Research Fellow</h6>
      <p class="card-text">Metabolomics, Multi-omics, Bioinformatics, Systems Biology.</p>
      <ul class="network-icon" aria-hidden="true">
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="/#contact" >
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://twitter.com/GeorgeCushen" target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://scholar.google.co.uk/citations?user=sIwtMXoAAAAJ" target="_blank" rel="noopener">
        <i class="fas fa-graduation-cap"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://github.com/gcushen" target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://www.linkedin.com/" target="_blank" rel="noopener">
        <i class="fab fa-linkedin"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="/uploads/resume.pdf" >
        <i class="ai ai-cv"></i>
      </a>
    </li>
  
</ul>

    </div>
  </div>


















  </div>
</article>
  </div>

  <div class="page-footer">
    
    
    <div class="container">
      <footer class="site-footer">

  












  
  
  
  
  













  
  
  

  
  
    
  
  
    
  

  

  
  <p class="powered-by copyright-license-text">
    Â© 2023 Xiaotao Shen
  </p>
  

  <p class="powered-by footer-license-icons">
    <a href="https://creativecommons.org/licenses/by-nc-nd/4.0" rel="noopener noreferrer" target="_blank" aria-label="Creative Commons">
      <i class="fab fa-creative-commons fa-2x" aria-hidden="true"></i>
      <i class="fab fa-creative-commons-by fa-2x" aria-hidden="true"></i>
      
        <i class="fab fa-creative-commons-nc fa-2x" aria-hidden="true"></i>
      
      
        <i class="fab fa-creative-commons-nd fa-2x" aria-hidden="true"></i>
      
    </a>
  </p>





  <p class="powered-by">
    
    
    
      
      
      
      
      
      
      Published with <a href="https://wowchemy.com/?utm_campaign=poweredby" target="_blank" rel="noopener">Wowchemy</a> â€” the free, <a href="https://github.com/wowchemy/wowchemy-hugo-themes" target="_blank" rel="noopener">open source</a> website builder that empowers creators.
    
  </p>
</footer>

    </div>
    
  </div>

  


<script src="/js/vendor-bundle.min.f64289d8217e08e3afcd597d60836062.js"></script>




  

  
  

  













  
  <script id="search-hit-fuse-template" type="text/x-template">
    <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
    </div>
  </script>
  
    <script src="https://cdn.jsdelivr.net/gh/krisk/Fuse@v3.2.1/dist/fuse.min.js" integrity="sha512-o38bmzBGX+hD3JHWUFCDA09btWaqrNmoJ3RXLlrysA7PP01Kgs4UlE4MhelE1v5dJR3+cxlR4qQlotsW7jKsnw==" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/gh/julmot/mark.js@8.11.1/dist/jquery.mark.min.js" integrity="sha512-mhbv5DqBMgrWL+32MmsDOt/OAvqr/cHimk6B8y/bx/xS88MVkYGPiVv2ixKVrkywF2qHplNRUvFsAHUdxZ3Krg==" crossorigin="anonymous"></script>
  












  
  
  
  
  
  
  







<script id="page-data" type="application/json">{"use_headroom":true}</script>



  <script src="/js/wowchemy-headroom.db4755770454eb63685f8de785c0a172.js" type="module"></script>









  
  


<script src="/en/js/wowchemy.min.ead4a376bcf2c4714888c770ea9b0040.js"></script>







  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        
        <pre><code></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>


  <script src="/js/wowchemy-publication.68f8d7090562ca65fc6d3cb3f8f2d2cb.js" type="module"></script>


















</body>
</html>
